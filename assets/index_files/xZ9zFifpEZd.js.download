if (self.CavalryLogger) { CavalryLogger.start_js(["ZhyHw"]); }

__d("useCometProductTagTypeaheadDataSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},b={defaultValue:null,kind:"LocalArgument",name:"query"},c=[{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}];c=[{alias:null,args:[{kind:"Literal",name:"category",value:""},{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"refetch_counter",value:0},{kind:"Literal",name:"result_types",value:["SHOP_PRODUCT_ITEM"]}],concreteType:"ProductTagTypeaheadResultEntry",kind:"LinkedField",name:"product_tag_typeahead",plural:!0,selections:[{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:60,width:60)"},{alias:null,args:null,kind:"ScalarField",name:"is_on_sale",storageKey:null},{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"strikethrough_price",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"listing_price",plural:!1,selections:c,storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"useCometProductTagTypeaheadDataSourceQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"useCometProductTagTypeaheadDataSourceQuery",selections:c},params:{id:"3001164093304965",metadata:{},name:"useCometProductTagTypeaheadDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("RemoteVideoFilePreviewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"representation_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mime_codec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"segment_type",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RemoteVideoFilePreviewQuery",selections:[{alias:null,args:b,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RemoteVideoFilePreviewQuery",selections:[{alias:null,args:b,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:"playable_url_dash",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,concreteType:"VideoPrefetchResources",kind:"LinkedField",name:"dash_prefetch_resources",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"audio",plural:!0,selections:d,storageKey:null},{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"video",plural:!0,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"playable_url_quality_hd",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{documentName:"useVideoPlayerShakaPerformanceLoggerRelay_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelay_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null},{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoConfig",kind:"LinkedField",name:"spherical_video_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_of_view",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_heading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_pitch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{documentName:"VideoPlayerRelay_video",fragmentName:"InstreamVideoAdBreaksPlayer_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}],storageKey:null}]},params:{id:"3079165635463091",metadata:{},name:"RemoteVideoFilePreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometPhotoEditorEditedPhotoViewerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"photoID"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c=[{kind:"Variable",name:"id",variableName:"photoID"}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometPhotoEditorEditedPhotoViewerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoEditorEditedPhoto_photo"}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometPhotoEditorEditedPhotoViewerQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}]},params:{id:"3341183842581571",metadata:{},name:"CometPhotoEditorEditedPhotoViewerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometPhotoEditorEditedPhoto_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometPhotoEditorEditedPhoto_photo",selections:[{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometPhotoEditorTaggedProductsTokenQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"shops_capability_review_status",storageKey:null}],type:"ProductItem",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPhotoEditorTaggedProductsTokenQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPhotoEditorTaggedProductsTokenQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c],storageKey:null}]},params:{id:"2889590937825869",metadata:{},name:"CometPhotoEditorTaggedProductsTokenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometPhotoEditorToolbarQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometPhotoEditorToolbarQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometPhotoEditorToolbarQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"2935372526577011",metadata:{},name:"CometPhotoEditorToolbarQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSearchTypeaheadProductTagViewItem.react",["fbt","React","TetraText.react","TetraTextPairing.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.entryItem;var c=a.getProductName(),d=g._("ID\u00a0: {product ID}",[g._param("product ID",a.getKey())]);a=a.getIsProductOnSale()?h.jsxs(h.Fragment,{children:[h.jsx(b("TetraText.react"),{type:"body4",children:a.getProductCurrentPrice()})," ",h.jsx("span",{className:"l89fnc2e kkf49tns m9osqain",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:a.getProductOriginalPrice()})})]}):h.jsx(b("TetraText.react"),{type:"body4",children:a.getProductCurrentPrice()});return h.jsx(b("TetraTextPairing.react"),{body:a,headline:c,headlineLineLimit:2,level:4,meta:d,reduceEmphasis:!0})}e.exports=a}),null);
__d("CometSearchTypeaheadProductTagViewStrategy.react",["fbt","CometImage.react","CometScrollView.react","CometSearchTypeaheadBaseViewItem.react","CometSearchTypeaheadBaseViewList.react","CometSearchTypeaheadBaseViewRecentEmptyState.react","CometSearchTypeaheadProductTagViewItem.react","React","TetraUnitHeader.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={scrollView:{marginEnd:"tmqn73lw"},searchHeader:{marginEnd:"oi9244e8",marginStart:"h676nmdw",paddingBottom:"sj5x9vvc"},typeaheadItemImage:{borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"},typeaheadList:{marginEnd:"wkznzc2l",maxHeight:"cfnagmiy",minHeight:"kbf60n1y",paddingBottom:"sj5x9vvc"}};function a(a){var c=a.entries;a.extraViewProps;var d=a.highlightedEntry;a.onAbandonTypeahead_DO_NOT_USE;var e=a.queryString,f=babelHelpers.objectWithoutPropertiesLoose(a,["entries","extraViewProps","highlightedEntry","onAbandonTypeahead_DO_NOT_USE","queryString"]);a=e===""&&c.length>0;return i.jsxs("div",{children:[a?i.jsx("div",{className:(h||(h=b("stylex")))(j.searchHeader),children:i.jsx(b("TetraUnitHeader.react"),{headline:g._("Produits ajout\u00e9s r\u00e9cemment"),level:3,paddingHorizontal:0})}):i.jsx("div",{className:(h||(h=b("stylex")))(j.searchHeader),children:i.jsx(b("TetraUnitHeader.react"),{headline:g._("R\u00e9sultats ({number of products that matches in product tag typeahead})",[g._param("number of products that matches in product tag typeahead",c.length)]),level:3,paddingHorizontal:0})}),i.jsx("div",{className:(h||(h=b("stylex")))(j.scrollView),children:i.jsxs(b("CometScrollView.react"),{children:[i.jsx("div",{className:h(j.typeaheadList),children:i.jsx(b("CometSearchTypeaheadBaseViewList.react"),{entries:c,highlightedEntry:d,children:function(a,c){return i.createElement(b("CometSearchTypeaheadBaseViewItem.react"),babelHelpers["extends"]({},f,{entry:a,isActive:c,itemStartContent:i.jsx(b("CometImage.react"),{height:70,src:a.getPhotoURI(),width:70,xstyle:j.typeaheadItemImage}),key:a.getKey()}),i.jsx(b("CometSearchTypeaheadProductTagViewItem.react"),{entryItem:a}))}})}),c.length===0&&i.jsx(b("CometSearchTypeaheadBaseViewRecentEmptyState.react"),{})]})})]})}e.exports=a}),null);
__d("CometProductTagTypeaheadEntry",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getKey=function(){return this.$1.productId};b.getLabel=function(){return this.getProductName()};b.getRawData=function(){return this.$1};b.getProductName=function(){return this.$1.productName};b.getPhotoURI=function(){return this.$1.photoURI};b.getIsProductOnSale=function(){return this.$1.isProductOnSale};b.getProductCurrentPrice=function(){return this.$1.productCurrentPrice};b.getProductOriginalPrice=function(){return this.$1.productOriginalPrice};return a}();e.exports=a}),null);
__d("useCometProductTagTypeaheadDataSource",["CometProductTagTypeaheadEntry","CometRelay","useCometTypeaheadCompositeDataSource","useCometTypeaheadGraphQLDataSource","useCometTypeaheadGraphQLNullstateDataSource","useCometProductTagTypeaheadDataSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=g!==void 0?g:g=b("useCometProductTagTypeaheadDataSourceQuery.graphql");function i(a){a=a==null?void 0:a.product_tag_typeahead;return a==null?[]:a.map(function(a){var c;return(a==null?void 0:a.product_item)==null||(a==null?void 0:(c=a.product_item)==null?void 0:c.id)==null?null:new(b("CometProductTagTypeaheadEntry"))({isProductOnSale:a.product_item.is_on_sale||!1,photoURI:((c=a.product_item)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri)||"",productCurrentPrice:((c=a.product_item)==null?void 0:(c=c.listing_price)==null?void 0:c.formatted_amount)||"",productId:a.product_item.id,productName:a.product_item.name||"",productOriginalPrice:((c=a.product_item)==null?void 0:(a=c.strikethrough_price)==null?void 0:a.formatted_amount)||""})}).filter(Boolean)}function a(a){var c=a.limit;a=b("useCometTypeaheadGraphQLNullstateDataSource")({gqlQuery:h,normalize:i,queryVariables:{count:c,query:""}});var d=b("useCometTypeaheadGraphQLDataSource")({gqlQuery:h,normalize:i,queryVariablesBuilderFunction:function(a){a=a.query;return{count:c,query:a}}});return b("useCometTypeaheadCompositeDataSource")({limit:c,networkDataSource:d,nullstateDataSource:a})}e.exports=a}),null);
__d("CometProductTagTypeahead.react",["CometSearchTypeaheadBaseInputRoundedStrategy.react","CometSearchTypeaheadBaseLayoutInlineStrategy.react","CometSearchTypeaheadProductTagViewStrategy.react","CometTypeahead.react","React","stylex","useCometProductTagTypeaheadDataSource"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useState,i=10;function a(a){var c=b("useCometProductTagTypeaheadDataSource")({limit:i}),d=h(""),e=d[0];d=d[1];return g.jsx("div",{className:"cs7azdtd discj3wi dati1w0a hv4rvrfc stjgntxs ni8dbmo4 i1fnvgqd itxrrdc4 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 t63ysoy8 linmgsc8 hop1g133 opwvks06 hybvsw6c",children:g.jsx(b("CometTypeahead.react"),{autoFocus:!0,dataSource:c,inputStrategyRenderer:b("CometSearchTypeaheadBaseInputRoundedStrategy.react"),layoutStrategyRenderer:b("CometSearchTypeaheadBaseLayoutInlineStrategy.react"),onChange:d,onPressEntry:a.onPressEntry,placeholder:a.placeholder,queryString:e,viewStrategyRenderer:b("CometSearchTypeaheadProductTagViewStrategy.react")})})}e.exports=a}),null);
__d("CometTemporaryPlaceholder.react",["fbt","CometTooltip.react","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.children;return h.jsx("div",{className:"rj84mg9z iyyx5f41 dhp61c6y dp1hu0rb owwhemhu qowsmv63 cebpdrjk bipmatt0 pk4s997a q3lfd5jv k5wvi7nf t1p8iaqh a8s20v7p abs2jz4q a6sixzi8 tojvnm2t",children:h.jsx(b("CometTooltip.react"),{position:"above",tooltip:g._("Pas encore disponible sur la version b\u00eata de Facebook"),children:h.jsx("div",{className:"hzruof5a iyyx5f41 dhp61c6y dp1hu0rb owwhemhu qowsmv63 cebpdrjk bipmatt0 pk4s997a q3lfd5jv k5wvi7nf t1p8iaqh a8s20v7p abs2jz4q a6sixzi8 tojvnm2t",children:a})})})}e.exports=a}),null);
__d("PlayableCollageItemOverlay.react",["CometImage.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("div",{className:"hyc5pup2 rr1tmaxi pmk7jnqg",children:g.jsx(b("CometImage.react"),{height:72,src:"/images/video/play_72dp.png",width:72})})}e.exports=a}),null);
__d("LocalVideoFilePreview.react",["PlayableCollageItemOverlay.react","React","clearTimeout","setTimeout","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useRef,i=c.useState;function a(a){a=a.mediaAttachment;var c=h(null),d=h(null),e=i(!1),f=e[0],j=e[1];e=function(){d.current!==null&&b("clearTimeout")(d.current),c.current&&c.current.play(),j(!0),d.current=b("setTimeout")(k,1e4)};var k=function(){var a=c.current;a!==null&&(a.pause(),a.currentTime=0);j(!1)};return a.fileType!=="FILE"?g.jsxs(g.Fragment,{children:[g.jsx("video",{className:"k4urcfbm r0294ipz datstx6m",controls:!1,onMouseEnter:e,onMouseLeave:k,ref:c,src:a.state!=="NEW"&&a.state!=="CLIENT_PROCESSING"&&a.state!=="CLIENT_PROCESSING_COMPLETE"&&a.fileObjectURL}),f?null:g.jsx(b("PlayableCollageItemOverlay.react"),{})]}):null}e.exports=a}),null);
__d("useVideoPlayerClip",["React","VideoPlayerHooks","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=c.useRef,i=b("VideoPlayerHooks").useController;function a(a){var c=a.clipDuration,d=a.clipStartTime,e=d===void 0?0:d;d=a.pauseOnLoop;var f=d===void 0?!1:d,j=i(),k=h(null);g(function(){e>=0||b("recoverableViolation")("useVideoPlayerClip clipStartTime must be greater than zero","comet_video_player");c!=null&&!(c>0)&&b("recoverableViolation")("useVideoPlayerClip clipDuration must be greater than zero","comet_video_player");if(e>=0&&c!=null&&c>0){k.current=j.getPlayheadPosition();var a=j.subscribe(function(){var a=k.current,b=j.getPlayheadPosition();if(a!=null&&b!==a){k.current=b;a=Math.min(j.getCurrentState().duration,e+c);var d="product_initiated";b>=a?(j.seek(e),f&&j.pause(d)):b<e&&j.seek(e)}});return function(){a.remove(),k.current=null}}},[c,e,j,f])}e.exports=a}),null);
__d("RemoteVideoFilePreview.react",["CometPlaceholder.react","CometProgressRing.react","CometRelay","PlayableCollageItemOverlay.react","React","RecoverableViolationWithComponentStack.react","VideoPlayerHooks","VideoPlayerRelay.react","VideoPlayerSurface.react","stylex","useDebouncedValue","useVideoPlayerClip","RemoteVideoFilePreviewQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery,i=b("React"),j=b("VideoPlayerHooks").useController,k=b("VideoPlayerHooks").usePaused,l=b("VideoPlayerHooks").usePlaying;function a(a){a=a.mediaAttachment;a=a.entID;return a==null?null:i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx(n,{}),children:i.jsx(m,{videoID:a})})}function m(a){a=a.videoID;a=h(g!==void 0?g:g=b("RemoteVideoFilePreviewQuery.graphql"),{videoID:a});a=a.video;return a==null?i.jsx(b("RecoverableViolationWithComponentStack.react"),{errorMessage:"video should not be null in preview",projectName:"comet_composer"}):i.jsx(b("VideoPlayerRelay.react"),{canAutoplay:"do_not_autoplay",portalingEnabled:!1,subOrigin:"embedded_video_preview",video:a,children:i.jsx(b("VideoPlayerSurface.react"),{children:i.jsx(o,{})})})}function n(){return i.jsx("div",{className:"k4urcfbm pmk7jnqg datstx6m",children:i.jsx(b("CometProgressRing.react"),{color:"dark",duration:5,size:32,type:"estimated"})})}function o(){var a=j(),c=k(),d=l();d=b("useDebouncedValue")(d,5);c=c&&!d;b("useVideoPlayerClip")({clipDuration:10,pauseOnLoop:!0});d=function(){a.getCurrentState().paused&&a.play("user_initiated")};var e=function(){a.getCurrentState().playing&&(a.pause("product_initiated"),a.seek(0))};return i.jsx("div",{className:"k4urcfbm pmk7jnqg datstx6m",onMouseEnter:d,onMouseLeave:e,children:c?i.jsx(b("PlayableCollageItemOverlay.react"),{}):null})}e.exports=a}),null);
__d("PagesCometProductTagTokenGlimmer.react",["BaseGlimmer.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){return g.jsx(b("BaseGlimmer.react"),{className:"ajzd4i4n dhix69tm wkznzc2l fdipuqhw l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",index:0})}e.exports=a}),null);
__d("CometComposerVideoPreview.react",["CollageItemFallback.react","LocalVideoFilePreview.react","React","RemoteVideoFilePreview.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={imageArea:{height:"djkytl3r"}};function a(a){var c=a.mediaAttachment;a=a.videoStyle;if(c.fileType!=="VIDEO")return null;if(c.file&&c.fileObjectURL!=null)if(c.useCDNPreview===!0)return h.jsx("div",{className:(g||(g=b("stylex")))(i.imageArea),children:h.jsx(b("CollageItemFallback.react"),{fileType:c.fileType,filename:c.file.name})});else return h.jsx("div",{className:(g||(g=b("stylex")))(a),children:h.jsx(b("LocalVideoFilePreview.react"),{mediaAttachment:c})});return c.state==="PREEXISTING"?h.jsx("div",{className:(g||(g=b("stylex")))(a),children:h.jsx(b("RemoteVideoFilePreview.react"),{mediaAttachment:c})}):null}e.exports=a}),null);
__d("CometPhotoEditorDisableMask.react",["CometProgressIndicator.react","CometTooltip.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.hint,d=a.showOverlay;d=d===void 0?!1:d;a=a.showProgressIndicator;a=a===void 0?!1:a;d=g.jsx("div",{className:"kavbgo14 kr520xx4 j9ispegn pmk7jnqg taijpn5t cbu4d94t n7fi1qx3 j83agx80 i09qtzwb bp9cbjyn"+(d?" ms7hmo2b":""),children:a?g.jsx(b("CometProgressIndicator.react"),{}):null});return c!=null?g.jsx("div",{className:"k4urcfbm datstx6m",children:g.jsx(b("CometTooltip.react"),{position:"above",tooltip:c,children:d})}):d}e.exports=a}),null);
__d("useCometPhotoEditorRotateStyle",["PhotoEditorViewStateContext","React","stylex"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useContext,h={original:{maxHeight:"l6x6gq6f",maxWidth:"d8a6gfzh"},rotate0:{transform:"tftn3vyl"},rotate90:{transform:"a3fe08na"},rotate180:{transform:"j9x3uwb8"},rotate270:{transform:"oo6cp7yp"},rotated:{maxHeight:"jsumbvfw",maxWidth:"kl7re420"}};function a(){var a;a=(a=g(b("PhotoEditorViewStateContext")).angle)!=null?a:0;var c=a%180===0?h.original:h.rotated,d;switch(a){case 0:d=h.rotate0;break;case 90:d=h.rotate90;break;case 180:d=h.rotate180;break;case 270:d=h.rotate270;break}return{image:[c],wrapper:[d]}}e.exports=a}),null);
__d("useCometPhotoEditorAppliedStyles",["useCometPhotoEditorRotateStyle"],(function(a,b,c,d,e,f){"use strict";function a(){var a=[b("useCometPhotoEditorRotateStyle")()];return{image:a.map(function(a){return a.image}),wrapper:a.map(function(a){return a.wrapper})}}e.exports=a}),null);
__d("CometPhotoEditorImageWrapper.react",["React","stylex","useCometPhotoEditorAppliedStyles"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={backgroundContainer:{alignItems:"bp9cbjyn",display:"j83agx80",flexGrow:"buofh1pr",justifyContent:"taijpn5t",maxWidth:"d8a6gfzh",minHeight:"pnzxbu4t",width:"k4urcfbm"},backgroundContainerParent:{height:"datstx6m"},imageHeight:{height:"bipmatt0",maxHeight:"l6x6gq6f",maxWidth:"d8a6gfzh",width:"iyyx5f41"},pageWithAnimations:{animationDuration:"ipxafjjy",animationFillMode:"j1l0snac",animationIterationCount:"h9pa7xm5",animationName:"sbevj9st"},photoWrapper:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",maxHeight:"nwf6jgls",opacity:"b5wmifdl",position:"l9j0dhe7"}};function a(a,c){var d=a.imageComponent;a=a.imageUri;var e=b("useCometPhotoEditorAppliedStyles")(),f=e.image;e=e.wrapper;return h.jsx("div",{className:(g||(g=b("stylex")))(i.backgroundContainer,i.backgroundContainerParent),ref:(c=c)!=null?c:null,children:h.jsx("div",{className:g(i.photoWrapper,i.pageWithAnimations,e),children:d([i.imageHeight,f])})},a)}e.exports={CometPhotoEditorImageWrapper:h.forwardRef(a)}}),null);
__d("CometPhotoEditorBottomInstructionBanner.react",["React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("div",{className:"lt9micmv ofv0k9yr gl4o1x5y aodizinl j83agx80 glmh9s44",children:g.jsx("div",{className:"f9o22wc5 ad2k81qe",children:g.jsx(b("TetraText.react"),{color:"white",type:"headlineEmphasized3",children:a.textLabel})})})}e.exports=a}),null);
__d("CometPhotoEditorProductTagInstructionBanner.react",["fbt","CometPhotoEditorBottomInstructionBanner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(){return h.jsx(b("CometPhotoEditorBottomInstructionBanner.react"),{textLabel:g._("Cliquez sur la photo pour commencer l\u2019identification de produit")})}e.exports=a}),null);
__d("ProductTagTypeaheadSelectProductFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_typeahead_select_product");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometPhotoEditorAddProductTag.react",["fbt","CometContextualLayer.react","CometPressable.react","CometProductTagDotHint.react","CometProductTaggingConstants","CometProductTagTypeahead.react","FBLogger","PagesCometComposerContext","React","stylex","ProductTagTypeaheadSelectProductFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CometProductTaggingConstants").DOT_HINT_BORDER_SIZE,i=b("CometProductTaggingConstants").DOT_HINT_DOT_SIZE,j=b("CometProductTaggingConstants").DOT_HINT_PADDING,k=b("FBLogger")("CometRouter"),l=b("React");c=b("React");var m=c.useCallback,n=c.useContext,o=c.useReducer,p=c.useRef,q=c.useState;function a(a){var c=a.addTag,d=a.existingTags,e=a.height,f=a.onSubmitted,r=a.photoID,s=a.updateIdToProduct,t=a.width,u=a.xPos,v=a.yPos,w=n(b("PagesCometComposerContext")),x=q(!1),y=x[0],z=x[1],A=p(null);x=p(null);var B=o(function(a){return a+1});B[0];var C=B[1],D=u+j+h+i/2,E=v+j+h+i/2,F=m(function(a){a={source:"manual",taggee:a,x:D/t*100,y:E/e*100};c(a);z(!0);f!=null&&f()},[D,t,E,e,c,f]);B=m(function(a){if(!y){var c;if(((c=d)!=null?c:[]).map(function(a){return(a=a.taggee)==null?void 0:a.id}).includes(a.getKey())){((c=d)!=null?c:[]).map(function(b){var c;a.getKey()===((c=b.taggee)==null?void 0:c.id)&&(b.x=D/t*100,b.y=E/e*100)});return}c=a.getKey();var f=a.getLabel(),g=a.getPhotoURI(),h=a.getProductCurrentPrice();s(c,g,h);F({id:c,image_uri:g,name:f,product_price:h});var i=w==null?void 0:w.pageID;i==null&&k.warn("There is no page ID for product tagging logging event on photo editor click to tag product");b("ProductTagTypeaheadSelectProductFalcoEvent").log(function(){var a;return{creator_id:(a=i)!=null?a:"",media_id:r,media_type:"photo",platform:"comet",referral_source:"composer"}})}},[d,e,w,r,F,y,s,t,D,E]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pmk7jnqg",ref:function(a){var b=A.current;A.current=a;b==null&&C()},style:{left:a.xPos,top:a.yPos},children:l.jsx(b("CometPressable.react"),{"aria-label":g._("Point indiquant un tag de produit"),display:"inline",onPress:a.onPress,overlayDisabled:!0,children:l.jsx(b("CometProductTagDotHint.react"),{borderSize:h,dotSize:i,padding:j})})}),A.current!=null&&l.jsx(b("CometContextualLayer.react"),{align:"middle",context:A.current,position:"below",ref:x,children:l.jsx(b("CometProductTagTypeahead.react"),{onPressEntry:B,placeholder:g._("Recherche par nom ou ID de produit")})})]})}e.exports=a}),null);
__d("updateTagReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c;switch(b.type){case"REMOVE_TAG":return babelHelpers["extends"]({},a,{tags:((c=a.tags)!=null?c:[]).filter(function(a){return(a==null?void 0:(a=a.taggee)==null?void 0:a.id)!==b.tagToDelete})});case"ADD_TAG":return babelHelpers["extends"]({},a,{tags:[].concat((c=a.tags)!=null?c:[],[b.newTag])})}return a}e.exports=a}),null);
__d("PhotoEditorViewStateReducerContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({current:new Map()});e.exports=c}),null);
__d("usePhotoEditorReducer",["PhotoEditorViewStateReducerContext","useContextRef"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("useContextRef")(a,b("PhotoEditorViewStateReducerContext"))}e.exports=a}),null);
__d("PhotoEditorViewStateDispatcherContext",["React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("React");e.exports=a.createContext(b("emptyFunction"))}),null);
__d("usePhotoEditorViewStateDispatcher",["PhotoEditorViewStateDispatcherContext","React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useContext;function a(){return g(b("PhotoEditorViewStateDispatcherContext"))}e.exports=a}),null);
__d("CometPhotoEditorTagDropdown.react",["ix","fbt","CometMenu.react","CometPhotoProductTagMenuItem.react","CometPhotoTagMenuItem.react","CometTooltip.react","CometTrackingNodeProvider.react","React","TetraIcon.react","emptyFunction","fbicon","gkx","stylex","updateTagReducer","usePhotoEditorReducer","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useCallback,k=c.useState;function a(a){var c=k(!1),d=c[0],e=c[1];b("usePhotoEditorReducer")(b("updateTagReducer"));var f=b("usePhotoEditorViewStateDispatcher")(),l=j(function(a){return f({tagToDelete:a,type:"REMOVE_TAG"})},[f]),m=a.id;c=a.name;var n=a.onMouseEnter,o=a.onMouseLeave,p=a.photoID,q=a.productImage;a=a.productPrice;var r=c,s=function(){l&&l(m),e(!0)},t=null;b("gkx")("1069716")&&c!=null&&q!=null&&a!=null&&m!=null?t=i.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:i.jsx(b("CometPhotoProductTagMenuItem.react"),{aux:i.jsx(b("CometTooltip.react"),{position:"above",tooltip:h._("Supprimer le tag de produit"),children:i.jsx(b("TetraIcon.react"),{"aria-label":h._("supprimer le tag"),color:d?"disabled":"primary",disabled:d,icon:b("fbicon")._(g("478232"),16),onPress:d?b("emptyFunction"):s})}),bodyText:a,disabled:d,postID:p,primaryText:r,productID:m,profilePictureUri:q})}):c!=null&&(t=i.jsx(b("CometMenu.react"),{size:"full",withArrow:!0,children:i.jsx(b("CometPhotoTagMenuItem.react"),{aux:i.jsx(b("TetraIcon.react"),{"aria-label":h._("supprimer le tag"),color:d?"disabled":"primary",disabled:d,icon:b("fbicon")._(g("478232"),16),onPress:d?b("emptyFunction"):s}),disabled:d,primaryText:r})}));return i.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:254,children:i.jsx("div",{className:"j83agx80",onMouseEnter:n,onMouseLeave:o,children:t})})}e.exports=a}),null);
__d("CometPhotoEditorTagBox.react",["fbt","CometContextualLayer.react","CometPhotoEditorTagDropdown.react","CometPressable.react","CometProductTagDotHint.react","CometProductTaggingConstants","PhotoEditorViewStateContext","React","stylex","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CometProductTaggingConstants").DOT_HINT_PADDING,j=b("CometProductTaggingConstants").TOTAL_DOT_SIZE,k=b("React");d=b("React");var l=d.useCallback,m=d.useContext,n=d.useEffect,o=d.useReducer,p=d.useRef,q=d.useState,r={hideTag:{opacity:"b5wmifdl"},pressable:{borderTopWidth:"rt8b4zig",borderEndWidth:"n8ej3o3l",borderBottomWidth:"agehan2d",borderStartWidth:"sk4xxmp2",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"},tagBox:{borderTop:"p09e4i0s",borderEnd:"q6acmjor",borderBottom:"gis0wc87",borderStart:"maq1zhz7"},tagBoxContainer:{pointerEvents:"oqq733wu",position:"pmk7jnqg"}};function c(c){var d=q(!1),e=d[0];d=d[1];var f=q(!1),s=f[0],t=f[1],u=b("usePhotoEditorViewStateDispatcher")();f=(f=m(b("PhotoEditorViewStateContext")))==null?void 0:f.hoveredProductID;var v=o(function(a){return a+1});v[0];var w=v[1],x=p(null),y=p(null),z=l(function(){y.current!=null&&y.current.reposition({autoflip:!0})},[]);n(function(){a.addEventListener("resize",z);return function(){a.removeEventListener("resize",z)}},[z]);v=c.borderSize;var A=c.horizontalPercentage,B=c.id,C=c.isAddingTag,D=c.isProductTagging,E=c.name,F=c.onPressHandler,G=c.photoID,H=c.productImage,I=c.productPrice,J=c.tagBoxSize,K=c.tagModeEnabled,L=c.verticalPercentage;v=D===!0?j:J+2*v;var M=D===!0?null:J;f=D===!0&&f===B;f=D===!0?e||s||f:e||s||K;n(function(){D===!0&&(e||s?u({productID:B,type:"HOVER_PRODUCT_TAG_ENTER"}):u({productID:B,type:"HOVER_PRODUCT_TAG_LEAVE"}))},[e,s,B,u,D]);return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:(h||(h=b("stylex")))(r.tagBoxContainer,D!==!0?r.hideTag:null),ref:function(a){x.current=a,w()},style:{height:M,left:"calc("+A+"% - "+v+"px / 2",top:"calc("+L+"% - "+v+"px / 2",width:M},children:x.current&&D===!0?k.jsx(b("CometPressable.react"),{"aria-label":g._("Point de tag"),onHoverChange:d,overlayDisabled:!0,children:k.jsx(b("CometProductTagDotHint.react"),{borderSize:c.borderSize,dotSize:c.tagBoxSize,isHighlighted:f,padding:i})}):k.jsx(b("CometPressable.react"),{"aria-label":g._("champ de tag"),display:"inline",onHoverChange:d,onPress:F,overlayDisabled:!0,xstyle:r.pressable,children:k.jsx("div",{className:(h||(h=b("stylex")))(r.tagBox),style:{height:J,width:J}})})}),x.current&&f&&k.jsx(b("CometContextualLayer.react"),{align:"middle",context:x.current,position:"below",ref:y,children:k.jsx(b("CometPhotoEditorTagDropdown.react"),{id:B,name:E,onMouseEnter:function(){C||t(!0)},onMouseLeave:function(){t(!1)},photoID:G,productImage:H,productPrice:I})},"tagDropdown-"+s.toString())]})}e.exports=c}),null);
__d("ProductTagPhotoEditorClickToTagFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_editor_click_to_tag");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("cometPhotoEditorTagSaver",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return a.fileType!=="PHOTO"?a:{newMediaItem:babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{tags:b})})}}function h(a,b){b=(b=b)!=null?b:[];a=(a=(a=a.data)==null?void 0:a.tags)!=null?a:[];if(b.length!==a.length)return!0;var c=[].concat(b).sort();a=[].concat(a).sort();for(var d=0;d<b.length;d++){var e;if(((e=c[d])==null?void 0:(e=e.taggee)==null?void 0:e.id)!==((e=a[d])==null?void 0:(e=e.taggee)==null?void 0:e.id))return!0;if(((e=c[d])==null?void 0:e.x)!==((e=a[d])==null?void 0:e.x)||((e=c[d])==null?void 0:e.y)!==((e=a[d])==null?void 0:e.y))return!0}return!1}function a(a){var b;function c(c){switch(a.type){case"SET_TAGS":b=a.tags;return g(c,b)}return{newMediaItem:c}}function d(b){switch(a.type){case"SET_TAGS":return h(b,a.tags)}return!1}return{action:c,checker:d}}e.exports=a}),null);
__d("updateProductTagReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"ADD_PRODUCT_TAG":return babelHelpers["extends"]({},a,{productTagInfo:b.productTagInfo});case"HOVER_PRODUCT_TAG_ENTER":return babelHelpers["extends"]({},a,{hoveredProductID:b.productID});case"HOVER_PRODUCT_TAG_LEAVE":return babelHelpers["extends"]({},a,{hoveredProductID:""})}return a}e.exports=a}),null);
__d("CometPhotoEditorProductTagWrapper.react",["fbt","CometOnOutsideClick.react","FBLogger","CometPhotoEditorAddProductTag.react","CometPhotoEditorTagBox.react","CometPressable.react","CometProductTaggingConstants","PagesCometComposerContext","PhotoEditorViewStateContext","React","adjustFaceboxPosition","cometPhotoEditorTagSaver","emptyFunction","stylex","updateProductTagReducer","updateTagReducer","usePhotoEditorReducer","usePhotoEditorSaver","usePhotoEditorViewStateDispatcher","ProductTagPhotoEditorClickToTagFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("FBLogger")("CometRouter"),j=b("CometProductTaggingConstants").DOT_HINT_BORDER_SIZE,k=b("CometProductTaggingConstants").DOT_HINT_DOT_SIZE,l=b("CometProductTaggingConstants").TOTAL_DOT_SIZE,m=b("React");c=b("React");var n=c.useCallback,o=c.useContext,p=c.useRef,q=c.useState,r={pressableAreaWrapper:{height:"datstx6m",width:"k4urcfbm"},tagContainer:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",display:"a8c37x1j",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm",":focus":{outline:"iqfcb0g7"}}};function a(a){var c=a.isEnabled,d=a.photoID,e=o(b("PagesCometComposerContext"));a=q(null);var f=a[0],s=a[1];a=q(new Map());var t=a[0];a[1];var u=(a=o(b("PhotoEditorViewStateContext")))==null?void 0:a.tags;b("usePhotoEditorSaver")(b("cometPhotoEditorTagSaver"),{tags:u,type:"SET_TAGS"});b("usePhotoEditorReducer")(b("updateTagReducer"));b("usePhotoEditorReducer")(b("updateProductTagReducer"));var v=b("usePhotoEditorViewStateDispatcher")(),w=p(null);a=p(!1);a.current!==c&&(a.current===!0&&s(null),a.current=c);var x=n(function(a){return v({newTag:a,type:"ADD_TAG"})},[v]),y=n(function(a,b,c){return v({productTagInfo:new Map(t.set(a,{image:b,price:c})),type:"ADD_PRODUCT_TAG"})},[v,t]),z=n(function(a){if(w.current!=null){var c=w.current.getBoundingClientRect(),f=c.height,g=c.left,h=c.top;c=c.width;g=a.clientX-g-l/2;a=a.clientY-h-l/2;h=b("adjustFaceboxPosition")({boxSize:l,imageDimension:c,originalPos:g});var j=b("adjustFaceboxPosition")({boxSize:l,imageDimension:f,originalPos:a}),k=e==null?void 0:e.pageID;k==null&&i.warn("There is no page ID for product tagging logging event on photo editor click to tag product");b("ProductTagPhotoEditorClickToTagFalcoEvent").log(function(){return{creator_id:k,media_id:d,media_type:"photo",platform:"comet",referral_source:"composer"}});s(m.jsx(b("CometPhotoEditorAddProductTag.react"),{addTag:x,existingTags:u,height:f,onPress:z,onSubmitted:function(){return s(null)},photoID:d,updateIdToProduct:y,width:c,xPos:h,yPos:j},"newTag:horizontal"+g+"vertical"+a))}},[e,x,u,d,y]),A=c?z:b("emptyFunction"),B=((a=u)!=null?a:[]).map(function(a,e){return a.taggee.id==null||a.taggee.name==null||a.taggee.image_uri==null||a.taggee.product_price==null?null:m.jsx(b("CometPhotoEditorTagBox.react"),{borderSize:j,horizontalPercentage:a.x,id:a.taggee.id,isAddingTag:f!=null,isProductTagging:!0,name:a.taggee.name,onPressHandler:A,photoID:d,productImage:a.taggee.image_uri,productPrice:a.taggee.product_price,tagBoxSize:k,tagModeEnabled:c,verticalPercentage:a.y},e)});return m.jsxs(m.Fragment,{children:[m.jsx(b("CometOnOutsideClick.react"),{onOutsideClick:n(function(){return s(null)},[s]),children:function(a){return m.jsx("div",{className:(h||(h=b("stylex")))(r.pressableAreaWrapper),ref:a,children:m.jsx(b("CometPressable.react"),{display:"inline",label:g._("Identifier la photo"),onPress:A,overlayDisabled:!0,ref:w,xstyle:r.tagContainer,children:B})})}}),f]})}e.exports=a}),null);
__d("CometPhotoEditorProductTagLayer.react",["CometPhotoEditorProductTagWrapper.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.isEnabled;a=babelHelpers.objectWithoutPropertiesLoose(a,["isEnabled"]);return g.jsx(b("CometPhotoEditorProductTagWrapper.react"),babelHelpers["extends"]({},a,{isEnabled:c}))}e.exports=a}),null);
__d("CometPhotoEditorMerchantEducationCard.react",["ix","fbt","CometCard.react","React","TetraCircleButton.react","TetraTextPairing.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useState;function a(a){var c=j(!1),d=c[0],e=c[1];return d?null:i.jsx("div",{className:"o36gj0jk dati1w0a ihqw7lf3 hv4rvrfc discj3wi sjgh65i0",children:i.jsx(b("CometCard.react"),{background:"white",children:i.jsxs("div",{className:"btwxx1t3 j83agx80 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",children:[i.jsx("div",{className:"dati1w0a ihqw7lf3 hv4rvrfc discj3wi",children:a.icon}),i.jsx("div",{className:"ihqw7lf3 discj3wi cbu4d94t",children:i.jsx(b("TetraTextPairing.react"),{headline:a.educationTitle,level:3,meta:a.educationBody})}),i.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05 bkfpd7mw j83agx80 nqmvxvec",children:i.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(g("478232"),16),label:h._("Fermer"),onPress:function(){return e(!0)},size:24})})]})})})}e.exports=a}),null);
__d("CometPhotoEditorMerchantEducation.react",["ix","fbt","CometPhotoEditorMerchantEducationCard.react","CometTintedIcon.react","PhotoEditorViewStateContext","React","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useContext;function a(){var a=j(b("PhotoEditorViewStateContext"));a=(a==null?void 0:a.tags)||[];var c=null,d=null,e=null;((a=a||[])==null?void 0:a.length)>6&&(d=h._("Sellers typically see the best results from images with 6 or fewer tags"),c=h._("Too many product tags"),e=i.jsx(b("CometTintedIcon.react"),{color:"fds-yellow-20",icon:b("fbicon")._(g("502063"),24)}));return i.jsx(i.Fragment,{children:d&&e&&c?i.jsx(b("CometPhotoEditorMerchantEducationCard.react"),{educationBody:d,educationTitle:c,icon:e}):null})}e.exports=a}),null);
__d("CometPhotoEditorStage.react",["ix","fbt","CometBlurredBackgroundImage.react","CometPhotoEditorMerchantEducation.react","Locale","React","TetraCircleButton.react","emptyFunction","fbicon","gkx","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){a=babelHelpers["extends"]({},a);var c=a.backgroundSrc,d=a.bottomInstructionBanner,e=a.navigateBack,f=a.navigateForward,j=a.showMerchantEducation;return i.jsxs("div",{className:"iqfcb0g7 l9j0dhe7 p01isnhg datstx6m buofh1pr cbu4d94t j83agx80 tqsryivl",ref:function(a){a&&a.focus()},children:[i.jsx("div",{className:"iqfcb0g7 kr520xx4 j9ispegn pmk7jnqg akz8cqyu n7fi1qx3 i09qtzwb",children:c!=null?i.jsx(b("CometBlurredBackgroundImage.react"),{src:c}):null}),b("gkx")("1518248")&&j===!0?i.jsx("div",{className:"tkr6xdv7 j9ispegn pmk7jnqg i09qtzwb",children:i.jsx(b("CometPhotoEditorMerchantEducation.react"),{})}):null,d!=null?i.jsx("div",{className:"tkr6xdv7 k4urcfbm j9ispegn pmk7jnqg i09qtzwb",children:d}):null,i.jsxs("div",{className:"iqfcb0g7 l9j0dhe7 j0qtgc86 e9n865no taijpn5t datstx6m buofh1pr j83agx80",children:[i.jsxs("div",{className:"kr520xx4 j9ispegn pmk7jnqg i1fnvgqd n7fi1qx3 j83agx80 i09qtzwb bp9cbjyn",id:"media-viewer-nav-container",children:[i.jsx("div",{className:"dhix69tm sjgh65i0 wkznzc2l tr9rh885"+(e==null?" kr9hpln1":""),"data-testid":void 0,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492539"),24):b("fbicon")._(g("492491"),24),label:h._("Photo pr\u00e9c\u00e9dente"),onPress:e!=null?e:b("emptyFunction"),size:48,testid:void 0,type:"overlay"})}),i.jsx("div",{className:"dhix69tm sjgh65i0 wkznzc2l tr9rh885"+(f==null?" kr9hpln1":""),"data-testid":void 0,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),label:h._("Photo suivante"),onPress:f!=null?f:b("emptyFunction"),size:48,testid:void 0,type:"overlay"})})]}),a.children]})]})}e.exports=a}),null);
__d("CometPhotoEditorTagInstructionBanner.react",["fbt","CometPhotoEditorBottomInstructionBanner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(){return h.jsx(b("CometPhotoEditorBottomInstructionBanner.react"),{textLabel:g._("Cliquez sur la photo pour commencer l\u2019identification")})}e.exports=a}),null);
__d("CometMediaEditorTagComposerFocusHandler.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var b=a.children,c=a.setInputFocused,d=a.setShowLoadingIndicator,e=a.setTypeaheadPressed,f=a.typeaheadPressed;babelHelpers.objectWithoutPropertiesLoose(a,["children","setInputFocused","setShowLoadingIndicator","setTypeaheadPressed","typeaheadPressed"]);return g.jsx("div",{className:"b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt dlpeemhq kkf49tns tvmbv18p cgat1ltu aahdfvyu i1fnvgqd cbu4d94t j83agx80 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 t63ysoy8 linmgsc8 hop1g133 opwvks06 q2y6ezfg",onBlur:function(){f||c(!1),d(!1)},onFocus:function(){c(!0)},onMouseDown:function(){e(!0)},onMouseUp:function(){e(!1)},children:b})}e.exports=a}),null);
__d("useCometPhotoEditorCommandHandlers.react",["fbt","React","cometPushToast"],(function(a,b,c,d,e,f,g){"use strict";c=b("React");var h=c.useMemo,i=b("cometPushToast").cometPushSimpleToast;function a(a){var b=a.refCurrent,c=a.typeaheadAvailable,d=a.typeahead,e=a.submitMutation,f=a.submitted,j=a.text,k=a.existingTags;a=h(function(){return{description:g._("Masquer les suggestions"),handler:function(){b&&b.blur()}}},[b]);var l=h(function(){return!c?void 0:{description:g._("Remonter"),handler:function(){d&&d.moveUp()}}},[d,c]),m=h(function(){return!c?void 0:{description:g._("Descendre"),handler:function(){d&&d.moveDown()}}},[d,c]),n=h(function(){return!c?void 0:{description:g._("Confirmer"),handler:function(){d!=null&&d.hasSelection()&&d.select()}}},[d,c]),o=h(function(){return{description:g._("Confirmer"),handler:function(){if(d==null){!f&&j!=null&&j.length!==0&&e({name:j});return}if(d.hasSelection())d&&d.select();else if(!f&&j!=null&&j.length!==0){var a;if(((a=k)!=null?a:[]).includes(j)){i(g._("La page ou l\u2019utilisateur sp\u00e9cifi\u00e9 est d\u00e9j\u00e0 identifi\u00e9 dans cette photo."),4e3);return}e({name:j})}}}},[k,e,f,j,d]);o={downCommand:m,enterCommand:o,escCommand:a,tabCommand:n,upCommand:l};m==null&&delete o.downCommand;l==null&&delete o.upCommand;n==null&&delete o.tabCommand;return o}e.exports=a}),null);
__d("CometMediaEditorTagComposer.react",["ix","fbt","BaseContextualLayerOrientationContext","CometInputWithCommands.react","CometMediaEditorTagComposerFocusHandler.react","CometMediaViewerMentionsTypeaheadContextualLayer.react","CometMediaViewerMentionsTypeaheadListItem.react","CometTextInputWithIcon.react","React","cometPushToast","fbicon","unrecoverableViolation","useCometMediaViewerTaggingMentionsStrategyResolver","useCometPhotoEditorCommandHandlers.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useCallback,k=c.useContext,l=c.useEffect,m=c.useLayoutEffect,n=c.useRef,o=c.useState,p=b("cometPushToast").cometPushSimpleToast;function a(a){var c=a.addTag,d=a.existingTags,e=a.height,f=a.onSubmitted,q=a.repositionDropdown,r=a.width,s=a.xPos,t=a.yPos;a=o(!1);var u=a[0],v=a[1];a=o(!1);var w=a[0],x=a[1];a=o(!1);var y=a[0],z=a[1];a=o(!0);var A=a[0];a=a[1];var B=n(null),C=n(null),D=k(b("BaseContextualLayerOrientationContext")),E=D.position,F=n(E);m(function(){F.current=E},[E]);l(function(){if(B!=null){var a=B.current;a!=null&&a.focus()}},[B]);D=o("");var G=D[0],H=D[1];D=j(function(){return B.current},[B]);D=D();var I=j(function(a){H(a.target.value),q&&q()},[q]),J=j(function(a){a={source:"manual",taggee:a,x:s/r*100,y:t/e*100};c(a);v(!0);f!=null&&f()},[s,r,t,e,c,f]),K=D!=null&&w;K=b("useCometPhotoEditorCommandHandlers.react")({existingTags:d,refCurrent:D,submitMutation:J,submitted:u,text:G,typeahead:C.current,typeaheadAvailable:K});var L=K.downCommand,M=K.enterCommand,N=K.escCommand,O=K.tabCommand;K=K.upCommand;var P=j(function(a){if(!u){var b;if(((b=d)!=null?b:[]).map(function(a){return(a=a.taggee)==null?void 0:a.id}).includes(a.getKey())){p(h._("La page ou l\u2019utilisateur sp\u00e9cifi\u00e9 est d\u00e9j\u00e0 identifi\u00e9 dans cette photo."),4e3);return}b=a.getKey();a=a.getLabel();J({id:b,name:a})}x(!1);z(!1);H("")},[d,J,u]),Q=b("useCometMediaViewerTaggingMentionsStrategyResolver")("");Q=Q(G);var R=Q.dataSource;Q=Q.searchResult;if(R==null)throw b("unrecoverableViolation")("CometMediaEditorTagComposer strategy resolver returned no dataSource","comet_composer");if(R==null||Q==null)throw b("unrecoverableViolation")("CometMediaViewerTagComposer strategy resolver returned no dataSource","comet_ui");var S=F.current;D=D!=null&&w?i.jsx(b("CometMediaViewerMentionsTypeaheadContextualLayer.react"),{dataSource:R,onResultsLoaded:q,onSelectedEntry:P,query:Q.matchingString,ref:C,showLoadingIndicator:S!==E?!1:A,viewItemStrategyRenderer:b("CometMediaViewerMentionsTypeaheadListItem.react")},"mentions-typehaead"):null;return i.jsxs(b("CometMediaEditorTagComposerFocusHandler.react"),{setInputFocused:x,setShowLoadingIndicator:a,setTypeaheadPressed:z,typeaheadPressed:y,children:[E==="above"?D:null,i.jsx(b("CometInputWithCommands.react"),{down:L,enter:M,esc:N,tab:O,up:K,children:i.jsx(b("CometTextInputWithIcon.react"),{autoComplete:"off",disabled:u,icon:b("fbicon")._(g("491282"),16),iconColor:"tertiary",label:h._("Zone de saisie des tags"),onChange:I,placeholder:h._("Saisissez un nom"),ref:B,type:"text",value:G})}),E==="below"?D:null]})}e.exports=a}),null);
__d("CometPhotoEditorAddTag.react",["fbt","CometContextualLayer.react","CometMediaEditorTagComposer.react","CometPressable.react","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("React");var j=c.useCallback,k=c.useReducer,l=c.useRef,m={pressable:{appearance:"dwo3fsh8",borderStyle:"ow4ym5g4",borderWidth:"auili1gw",boxSizing:"rq0escxv",cursor:"nhd2j8a9",marginBottom:"oygrvhab",marginEnd:"cxmmr5t8",marginStart:"hcukyx3x",marginTop:"kvgmc6g5",paddingBottom:"qt6c0cv9",paddingEnd:"rz4wbd8a",paddingStart:"a8nywdso",paddingTop:"jb3vyjys",position:"l9j0dhe7",textAlign:"i1ao9s8h",zIndex:"du4w35lb",backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d"},tagBox:{borderTop:"gag4i7dh",borderEnd:"jsrkvy3z",borderBottom:"moy3fgm5",borderStart:"kozd3uwk",boxShadow:"pp202wsm",position:"pmk7jnqg",zIndex:"tkr6xdv7"}};function a(a){var c=a.onSubmitted,d=a.xPos,e=a.yPos,f=a.existingTags,n=a.onPress,o=a.tagBoxSize,p=a.borderSize,q=a.width,r=a.height,s=a.addTag;babelHelpers.objectWithoutPropertiesLoose(a,["onSubmitted","xPos","yPos","existingTags","onPress","tagBoxSize","borderSize","width","height","addTag"]);var t=l(null),u=l(null);a=k(function(a){return a+1});a[0];var v=a[1];a=j(function(){u.current!=null&&u.current.reposition({autoflip:!0})},[]);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:(h||(h=b("stylex")))(m.tagBox),ref:function(a){var b=t.current;t.current=a;b==null&&v()},style:{left:d,top:e},children:i.jsx(b("CometPressable.react"),{"aria-label":g._("champ de tag"),display:"inline",onPress:n,overlayDisabled:!0,xstyle:m.pressable,children:i.jsx("div",{style:{height:o,width:o}})})}),t.current!=null&&i.jsx(b("CometContextualLayer.react"),{align:"middle",context:t.current,position:"below",ref:u,children:i.jsx(b("CometMediaEditorTagComposer.react"),{addTag:s,existingTags:f,height:r,onSubmitted:c,repositionDropdown:a,width:q,xPos:d+o/2+p,yPos:e+o/2+p})})]})}e.exports=a}),null);
__d("CometPhotoEditorTagWrapper.react",["fbt","CometOnOutsideClick.react","CometPhotoEditorAddTag.react","CometPhotoEditorTagBox.react","CometPressable.react","PhotoEditorViewStateContext","React","adjustFaceboxPosition","cometPhotoEditorTagSaver","emptyFunction","stylex","updateTagReducer","usePhotoEditorReducer","usePhotoEditorSaver","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("React");var j=c.useCallback,k=c.useContext,l=c.useRef,m=c.useState,n={pressableAreaWrapper:{height:"datstx6m",width:"k4urcfbm"},tagContainer:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",display:"a8c37x1j",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm",":focus":{outline:"iqfcb0g7"}}},o=94,p=3;function a(a){var c=a.isEnabled;a=m(null);var d=a[0],e=a[1],f=(a=k(b("PhotoEditorViewStateContext")))==null?void 0:a.tags;b("usePhotoEditorSaver")(b("cometPhotoEditorTagSaver"),{tags:f,type:"SET_TAGS"});b("usePhotoEditorReducer")(b("updateTagReducer"));var q=b("usePhotoEditorViewStateDispatcher")(),r=l(null),s=o+2*p;a=l(!1);a.current!==c&&(a.current===!0&&e(null),a.current=c);var t=j(function(a){return q({newTag:a,type:"ADD_TAG"})},[q]),u=j(function(a){if(r.current!=null){var c=r.current.getBoundingClientRect(),d=c.left,g=c.top,h=c.height;c=c.width;d=a.clientX-d-s/2;a=a.clientY-g-s/2;g=b("adjustFaceboxPosition")({boxSize:s,imageDimension:c,originalPos:d});var j=b("adjustFaceboxPosition")({boxSize:s,imageDimension:h,originalPos:a});e(i.jsx(b("CometPhotoEditorAddTag.react"),{addTag:t,borderSize:p,existingTags:f,height:h,onPress:u,onSubmitted:function(){return e(null)},tagBoxSize:o,width:c,xPos:g,yPos:j},"newTag:horizontal"+d+"vertical"+a))}},[f,s,t]),v=c?u:b("emptyFunction"),w=((a=f)!=null?a:[]).map(function(a,e){return a.taggee.id==null||a.taggee.name==null?null:i.jsx(b("CometPhotoEditorTagBox.react"),{borderSize:p,horizontalPercentage:a.x,id:a.taggee.id,isAddingTag:d!=null,name:a.taggee.name,onPressHandler:v,tagBoxSize:o,tagModeEnabled:c,verticalPercentage:a.y},e)});return i.jsxs(i.Fragment,{children:[i.jsx(b("CometOnOutsideClick.react"),{onOutsideClick:j(function(){return e(null)},[e]),children:function(a){return i.jsx("div",{className:(h||(h=b("stylex")))(n.pressableAreaWrapper),ref:a,children:i.jsx(b("CometPressable.react"),{display:"inline",label:g._("Identifier la photo"),onPress:v,overlayDisabled:!0,ref:r,xstyle:n.tagContainer,children:w})})}}),d]})}e.exports=a}),null);
__d("CometPhotoEditorTagLayer.react",["CometPhotoEditorTagWrapper.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.isEnabled;a=babelHelpers.objectWithoutPropertiesLoose(a,["isEnabled"]);return g.jsx(b("CometPhotoEditorTagWrapper.react"),babelHelpers["extends"]({},a,{isEnabled:c}))}e.exports=a}),null);
__d("getCometPhotoEditorXYTags",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a==null||b==null)return null;else if(a[b].state!=="UPLOADED"||a[b].fileType!=="PHOTO")return null;else{b=(a=(a=a[b])==null?void 0:(b=a.data)==null?void 0:b.tags)!=null?a:[];return b.filter(Boolean)}}e.exports=a}),null);
__d("updateCurrentIndexReducer",["getCometPhotoEditorXYTags"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d;switch(c.type){case"INCREMENT_INDEX":return babelHelpers["extends"]({},a,{index:((d=a.index)!=null?d:0)+1,tags:c.nextMediaAttachment!=null?b("getCometPhotoEditorXYTags")([c.nextMediaAttachment],0):null});case"DECREMENT_INDEX":return babelHelpers["extends"]({},a,{index:((d=a.index)!=null?d:1)-1,tags:c.prevMediaAttachment!=null?b("getCometPhotoEditorXYTags")([c.prevMediaAttachment],0):null})}return a}e.exports=a}),null);
__d("updateImageDimensionsReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"SET_ORIGINAL_IMAGE_DIMENSIONS":return babelHelpers["extends"]({},a,{originalHeight:b.height,originalWidth:b.width});case"SET_CLIENT_IMAGE_DIMENSIONS":return babelHelpers["extends"]({},a,{clientImageHeight:b.height,clientImageWidth:b.width})}return a}e.exports=a}),null);
__d("updateSaveStatusReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"SET_SAVE_STATE":return babelHelpers["extends"]({},a,{isSaving:b.isSaving});case"CLEAR":return babelHelpers["extends"]({},a,{isSaving:!1})}return a}e.exports=a}),null);
__d("CometPhotoEditorViewer.react",["CometComposerVideoPreview.react","CometImage.react","CometPhotoEditorDisableMask.react","CometPhotoEditorImageWrapper.react","CometPhotoEditorProductTagInstructionBanner.react","CometPhotoEditorProductTagLayer.react","CometPhotoEditorStage.react","CometPhotoEditorTagInstructionBanner.react","CometPhotoEditorTagLayer.react","CometPlaceholder.react","JSResource","PhotoEditorViewStateContext","React","lazyLoadComponent","stylex","updateCurrentIndexReducer","updateImageDimensionsReducer","updateSaveStatusReducer","usePhotoEditorReducer","usePhotoEditorViewStateDispatcher","unrecoverableViolation","gkx"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometPhotoEditorImageWrapper.react").CometPhotoEditorImageWrapper,i=b("React");c=b("React");var j=c.useCallback,k=c.useContext,l=c.useEffect,m=c.useRef,n=b("lazyLoadComponent")(b("JSResource")("CometPhotoEditorRotateLayer.react").__setRef("CometPhotoEditorViewer.react")),o=b("lazyLoadComponent")(b("JSResource")("CometPhotoEditorCropLayer.react").__setRef("CometPhotoEditorViewer.react")),p=b("lazyLoadComponent")(b("JSResource")("CometPhotoEditorTextOverlayLayer.react").__setRef("CometPhotoEditorViewer.react")),q=b("gkx")("1218176"),r={layer:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},noActiveLayer:{cursor:"bnpdmtie"},videoHeight:{height:"rikhs25o"}};function a(a){var c,d=a.containerRef,e=a.hasNext;e=e===void 0?!0:e;var f=a.mediaAttachment,s=a.nextMediaAttachment,t=a.onNavigateAway,u=a.origSrc,v=a.prevMediaAttachment;a=k(b("PhotoEditorViewStateContext"));b("usePhotoEditorReducer")(b("updateCurrentIndexReducer"));b("usePhotoEditorReducer")(b("updateSaveStatusReducer"));b("usePhotoEditorReducer")(b("updateImageDimensionsReducer"));var w=b("usePhotoEditorViewStateDispatcher")();if(a==null)throw b("unrecoverableViolation")("Must provide a valid photo","comet_composer");var x=a.activeTool,y=a.clientImageHeight,z=a.clientImageWidth,A=a.index;a=a.isSaving;a=a===void 0?!1:a;var B=j(function(){t(function(){return w({nextMediaAttachment:s,type:"INCREMENT_INDEX"})})},[t,w,s]),C=j(function(){t(function(){return w({prevMediaAttachment:v,type:"DECREMENT_INDEX"})})},[t,w,v]),D=u!=null&&u!==""?{backgroundSrc:u}:null,E=f.fileType==="VIDEO"&&f.file&&f.file.type!=="image/gif",F=m(null),G=F.current;c=(c=F.current)==null?void 0:c.getBoundingClientRect();var H=c==null?void 0:c.height,I=c==null?void 0:c.width;l(function(){if(G!=null){if(H==null||I==null||H===0||I===0)return;w({height:H,type:"SET_CLIENT_IMAGE_DIMENSIONS",width:I})}},[G,w,H,I,x]);var J=j(function(){if(G!=null&&y!=null&&z!=null){var a=G.getBoundingClientRect();if(a.height===0||a.width===0)return;w({height:a.height,type:"SET_CLIENT_IMAGE_DIMENSIONS",width:a.width})}},[y,z,G,w]);l(function(){if(F.current!=null){window.addEventListener("resize",J);J();return function(){window.removeEventListener("resize",J)}}},[J]);c=x==="PRODUCT_TAG"?i.jsx(b("CometPhotoEditorProductTagInstructionBanner.react"),{}):x==="XY_TAG"?i.jsx(b("CometPhotoEditorTagInstructionBanner.react"),{}):null;return i.jsxs(b("CometPhotoEditorStage.react"),babelHelpers["extends"]({bottomInstructionBanner:c,navigateBack:q&&A>0?C:null,navigateForward:q&&e?B:null,showMerchantEducation:x==="PRODUCT_TAG"},D,{children:[a===!0?i.jsx(b("CometPhotoEditorDisableMask.react"),{showOverlay:!0,showProgressIndicator:!0}):null,i.jsx(h,{imageComponent:function(a){return i.jsxs(i.Fragment,{children:[E===!0?null:i.jsx(b("CometImage.react"),{src:u,testid:void 0,xstyle:a},u),i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsxs("div",{className:(g||(g=b("stylex")))(r.layer,x===null&&r.noActiveLayer),ref:F,children:[x==="XY_TAG"?i.jsx(b("CometPhotoEditorTagLayer.react"),{isEnabled:x==="XY_TAG"}):null,x==="PRODUCT_TAG"&&(f==null?void 0:(a=f.data)==null?void 0:a.id)!=null?i.jsx(b("CometPhotoEditorProductTagLayer.react"),{isEnabled:!0,photoID:f==null?void 0:(a=f.data)==null?void 0:a.id}):null,x!=="CROP"||y==null||z==null||y===0||z===0?null:i.jsx(o,{clientImageHeight:y,clientImageWidth:z,containerRef:d}),x==="ROTATE"?i.jsx(n,{}):null,x==="TEXT_OVERLAY"&&y!=null&&z!=null?i.jsx(p,{clientImageHeight:y,clientImageWidth:z}):null]})}),E===!0?i.jsx(b("CometComposerVideoPreview.react"),{mediaAttachment:f,videoStyle:r.videoHeight}):null]})},imageUri:u})]}))}e.exports=a}),null);
__d("CometPhotoEditorEditedPhoto.react",["CometPhotoEditorViewer.react","CometRelay","React","usePhotoEditorViewStateDispatcher","CometPhotoEditorEditedPhoto_photo.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");c=b("React");var j=c.useEffect;function a(a){var c=h(g!==void 0?g:g=b("CometPhotoEditorEditedPhoto_photo.graphql"),a.photo),d=b("usePhotoEditorViewStateDispatcher")();c=(c==null?void 0:c.image)||{};var e=c.height,f=c.uri,k=c.width;j(function(){return e!=null&&k!=null?d({height:e,type:"SET_ORIGINAL_IMAGE_DIMENSIONS",width:k}):void 0},[e,k,d]);return f!=null?i.jsx(b("CometPhotoEditorViewer.react"),{containerRef:a.containerRef,hasNext:a.hasNext,mediaAttachment:a.mediaAttachment,nextMediaAttachment:a.nextMediaAttachment,onNavigateAway:a.onNavigateAway,origSrc:f,prevMediaAttachment:a.prevMediaAttachment}):null}e.exports=a}),null);
__d("CometPhotoEditorEditedPhotoViewer.react",["CometPhotoEditorEditedPhoto.react","CometRelay","React","WebPixelRatio","CometPhotoEditorEditedPhotoViewerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery,i=b("React");function a(a){var c=a.containerRef,d=a.hasNext,e=a.id,f=a.mediaAttachment,j=a.nextMediaAttachment,k=a.onNavigateAway;a=a.prevMediaAttachment;e={photoID:e,scale:b("WebPixelRatio").get()};e=h(g!==void 0?g:g=b("CometPhotoEditorEditedPhotoViewerQuery.graphql"),e);return i.jsx(b("CometPhotoEditorEditedPhoto.react"),{containerRef:c,hasNext:d,mediaAttachment:f,nextMediaAttachment:j,onNavigateAway:k,photo:e==null?void 0:e.node,prevMediaAttachment:a})}e.exports=a}),null);
__d("CometPhotoEditorInputWrapper.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx("div",{className:"discj3wi dati1w0a hv4rvrfc",children:a.children})}e.exports=a}),null);
__d("cometPhotoEditorAccessibleDescriptionSaver",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return a.fileType!=="PHOTO"?{newMediaItem:a}:{newMediaItem:babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{custom_accessibility_caption:b!=null?b:void 0})})}}function h(a,b){return a.data.custom_accessibility_caption!==b}function a(a){var b;function c(c){switch(a.type){case"SET_ACCESSIBLE_DESCRIPTION":b=a.description;return g(c,b)}return{newMediaItem:c}}function d(b){switch(a.type){case"SET_ACCESSIBLE_DESCRIPTION":return h(b,a.description)}return!1}return{action:c,checker:d}}e.exports=a}),null);
__d("CometPhotoEditorAccessibleDescriptionTool",["fbt","CometFormTextArea.react","CometPhotoEditorInputWrapper.react","PhotoEditorViewStateContext","React","cometPhotoEditorAccessibleDescriptionSaver","usePhotoEditorSaver","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useCallback,j=c.useContext,k=c.useState;function a(a){a=k(a.description);var c=a[0],d=a[1];b("usePhotoEditorSaver")(b("cometPhotoEditorAccessibleDescriptionSaver"),{description:c,type:"SET_ACCESSIBLE_DESCRIPTION"});return h.jsx(b("CometPhotoEditorInputWrapper.react"),{children:h.jsx(b("CometFormTextArea.react"),{helperText:g._("Le texte alternatif d\u00e9crit le contenu de la photo pour les personnes ayant une d\u00e9ficience visuelle."),label:g._("Texte alternatif"),maxRows:6,minRows:2,onValueChange:i(function(a){return d(a)},[]),value:c})})}e.exports=b("withComposerViewStatePart")(a,function(a){var c;c=(c=j(b("PhotoEditorViewStateContext")))==null?void 0:c.index;var d;if(a.mediaAttachments==null||c==null)d=void 0;else if(a.mediaAttachments[c].state!=="UPLOADED"||a.mediaAttachments[c].fileType!=="PHOTO")d=void 0;else{d=(a=a.mediaAttachments[c])==null?void 0:a.data.custom_accessibility_caption}return{description:d}})}),null);
__d("cometPhotoEditorDescriptionSaver",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return a.fileType!=="PHOTO"?{newMediaItem:a}:{newMediaItem:babelHelpers["extends"]({},a,{data:babelHelpers["extends"]({},a.data,{message:b!=null?{text:b}:void 0})})}}function h(a,b){return((a=a.data)==null?void 0:(a=a.message)==null?void 0:a.text)!==b}function a(a){var b;function c(c){switch(a.type){case"SET_CAPTION":b=a.caption;return g(c,b)}return{newMediaItem:c}}function d(b){switch(a.type){case"SET_CAPTION":return h(b,a.caption)}return!1}return{action:c,checker:d}}e.exports=a}),null);
__d("CometPhotoEditorDescriptionTool.react",["fbt","CometFormTextArea.react","CometPhotoEditorInputWrapper.react","PhotoEditorViewStateContext","React","cometPhotoEditorDescriptionSaver","usePhotoEditorSaver","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useCallback,j=c.useContext,k=c.useState;function a(a){a=k(a.caption);var c=a[0],d=a[1];b("usePhotoEditorSaver")(b("cometPhotoEditorDescriptionSaver"),{caption:c,type:"SET_CAPTION"});return h.jsx(b("CometPhotoEditorInputWrapper.react"),{children:h.jsx(b("CometFormTextArea.react"),{label:g._("L\u00e9gende"),maxRows:6,minRows:4,onValueChange:i(function(a){return d(a)},[]),value:c})})}e.exports=b("withComposerViewStatePart")(a,function(a){var c;c=(c=j(b("PhotoEditorViewStateContext")))==null?void 0:c.index;var d;if(a.mediaAttachments==null||c==null)d=void 0;else if(a.mediaAttachments[c].state!=="UPLOADED"||a.mediaAttachments[c].fileType==="FILE")d=void 0;else{d=(a=a.mediaAttachments[c])==null?void 0:(c=a.data)==null?void 0:(a=c.message)==null?void 0:a.text}return{caption:d}})}),null);
__d("ProductTagPhotoEditorSaveTagsFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_editor_save_tags");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometPhotoEditorActionButtons.react",["fbt","FBLogger","PagesCometComposerContext","PhotoEditorViewStateContext","React","TetraButtonGroup.react","stylex","ProductTagPhotoEditorSaveTagsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBLogger")("CometRouter"),i=b("React");c=b("React");var j=c.useCallback,k=c.useContext;function a(a){var c,d=k(b("PagesCometComposerContext")),e=a.onBack,f=a.photoID,l=a.save;a=k(b("PhotoEditorViewStateContext"));c=(c=a==null?void 0:a.isSaving)!=null?c:!1;var m=a==null?void 0:a.activeTool;a=j(function(){l();if(m==="PRODUCT_TAG"){var a=d==null?void 0:d.pageID;a==null||f==null&&h.warn("Either page ID or photo ID for product tagging logging event on photo editor click to save products is missing. IDs: ",a,f);b("ProductTagPhotoEditorSaveTagsFalcoEvent").log(function(){var b;return{creator_id:(b=a)!=null?b:"",media_id:(b=f)!=null?b:"",media_type:"photo",platform:"comet",referral_source:"composer"}})}},[m,d,l,f]);return i.jsx("div",{className:"k4urcfbm dati1w0a ihqw7lf3 hv4rvrfc discj3wi rq0escxv i09qtzwb",children:i.jsx(b("TetraButtonGroup.react"),{primary:{label:c?g._("Enregistrement"):g._("Enregistrer"),onPress:a,type:"primary"},secondary:{label:g._("Annuler"),onPress:e},size:"large"})})}e.exports=a}),null);
__d("CometPhotoEditorPushPageActionItems.react",["CometPhotoEditorActionButtons.react","PhotoEditorViewStateContext","React","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=c.useContext;function a(a){var c=a.onBack,d=a.photoID,e=a.save,f=a.setActiveTool,j=(a=i(b("PhotoEditorViewStateContext")))==null?void 0:a.activeTool;a=h(function(){b("gkx")("1518248")&&j==="PRODUCT_TAG"&&f(null),c()},[j,c,f]);return g.jsx(b("CometPhotoEditorActionButtons.react"),{onBack:a,photoID:d,save:e})}e.exports=a}),null);
__d("CometPhotoEditorTaggedFriendsArea.react",["fbt","CometFormInputWrapper.react","CometPhotoEditorInputWrapper.react","CometPhotoEditorTaggedFriendsToken.react","PhotoEditorViewStateContext","React","cometPhotoEditorTagSaver","emptyFunction","stylex","updateTagReducer","usePhotoEditorReducer","usePhotoEditorSaver","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("React");var j=c.useCallback,k=c.useContext;function a(){var a,c=(a=k(b("PhotoEditorViewStateContext")))==null?void 0:a.tags;b("usePhotoEditorReducer")(b("updateTagReducer"));var d=b("usePhotoEditorViewStateDispatcher")();b("usePhotoEditorSaver")(b("cometPhotoEditorTagSaver"),{tags:c,type:"SET_TAGS"});var e=j(function(a){return d({tagToDelete:a,type:"REMOVE_TAG"})},[d]);return c==null||c.length===0?null:i.jsx(b("CometPhotoEditorInputWrapper.react"),{children:i.jsx(b("CometFormInputWrapper.react"),{cursor:"text",disabled:!1,label:g._("Dans la photo"),value:c,children:function(a){a=a.filled;return i.jsx("div",{className:(h||(h=b("stylex"))).dedupe({"background-color-1":"g5ia77u1","border-top-0.3":"gcieejh5","border-end-0.3":"bn081pho","border-bottom-0.3":"humdl8nn","border-start-0.3":"izx4hr6d","box-sizing-1":"rq0escxv","color-1":"oo9gr5id","font-size-1":"jagab5yi","font-weight-1":"knj5qynh","line-height-1":"fo6rh5oj","max-height-1":"jy1fj58s","min-height-1":"e170dy2k","outline-0.1":"lzcic4wl","overflow-y-1":"emxnvquj","padding-bottom-1":"qt6c0cv9","padding-top-1":"aodizinl","width-1":"k4urcfbm"},null,a?{"padding-bottom-1":"sj5x9vvc","padding-top-1":"p0x8y401"}:null),children:((a=c)!=null?a:[]).map(function(a,c){var d,f=a==null?void 0:(d=a.taggee)==null?void 0:d.id;return f!=null?i.jsx(b("CometPhotoEditorTaggedFriendsToken.react"),{name:(a=a==null?void 0:(d=a.taggee)==null?void 0:d.name)!=null?a:"",onPress:e?function(){return e(f)}:b("emptyFunction")},c):null})})}})})}e.exports=a}),null);
__d("CometPhotoEditorTaggedProductsToken.react",["ix","fbt","CometImage.react","CometLink.react","CometRelay","CometTooltip.react","PhotoEditorViewStateContext","React","TetraIcon.react","TetraText.react","asset","fbicon","stylex","CometPhotoEditorTaggedProductsTokenQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b("CometRelay").graphql;var k=b("CometRelay").useLazyLoadQuery,l=b("React");c=b("React");var m=c.useContext,n=60,o={border:{borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8",marginBottom:"bi6gxh9e",marginEnd:"wkznzc2l",marginStart:"dhix69tm",paddingEnd:"ph5uu5jm"},borderActive:{backgroundColor:"pugbgu5t"},borderForInReview:{borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"},borderRadius:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"},crossButton:{alignSelf:"nqmvxvec"},inReviewCard:{alignItems:"bp9cbjyn",backgroundColor:"qsy8amke",borderTopEndRadius:"pw54ja7n",borderTopStartRadius:"ue3kfks5",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"wkznzc2l",marginStart:"dhix69tm",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},inReviewIcon:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},productID:{marginBottom:"tvmbv18p",marginTop:"aahdfvyu"},productName:{flexGrow:"buofh1pr",marginBottom:"tvmbv18p",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},productPrice:{marginTop:"aahdfvyu",marginBottom:"tvmbv18p",paddingBottom:"e5nlhep0"},profileImage:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"},rightContent:{flexGrow:"buofh1pr",marginStart:"ozuftl9m"},rootLayout:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"btwxx1t3",flexGrow:"buofh1pr",marginTop:"aov4n071",marginEnd:"oi9244e8",marginBottom:"bi6gxh9e",marginStart:"h676nmdw"}};function a(a){var c;c=(c=m(b("PhotoEditorViewStateContext")))==null?void 0:c.hoveredProductID;c=c===a.productId;var d=k(i!==void 0?i:i=b("CometPhotoEditorTaggedProductsTokenQuery.graphql"),{id:a.productId});d=((d=d.node)==null?void 0:d.shops_capability_review_status)==="PENDING";var e=l.jsxs("div",{className:(j||(j=b("stylex")))(o.inReviewCard),children:[l.jsx("div",{className:j(o.inReviewIcon),children:l.jsx(b("CometImage.react"),{src:g("1523179")})}),l.jsxs(b("TetraText.react"),{color:"secondary",type:"body4",children:[h._("Ce produit est en cours d\u2019examen. Le tag sera publi\u00e9 une fois qu\u2019il aura \u00e9t\u00e9 approuv\u00e9.")," ",l.jsxs(b("CometLink.react"),{href:"https://www.facebook.com/policies/commerce/",children:[h._("En savoir plus.")," "]})]})]});return l.jsxs(l.Fragment,{children:[d?e:null,l.jsx("div",{className:j(d?o.borderForInReview:o.borderRadius,o.border,c&&o.borderActive),children:l.jsxs("div",{className:j(o.rootLayout),children:[l.jsx(b("CometImage.react"),{height:n,src:a.productImage,width:n,xstyle:o.profileImage}),l.jsxs("div",{className:j(o.rightContent),children:[l.jsx("div",{className:j(o.productName),children:l.jsx(b("TetraText.react"),{color:"primary",numberOfLines:2,type:"bodyLink3",children:a.productName})}),l.jsx("div",{className:j(o.productPrice),children:l.jsx(b("TetraText.react"),{color:"secondary",type:"meta3",children:a.productPrice})}),l.jsx("div",{className:j(o.productID),children:l.jsx(b("TetraText.react"),{color:"tertiary",numberOfLines:1,type:"meta4",children:"ID: "+a.productId})})]}),a.allowDeleteTag?l.jsx("div",{className:(j||(j=b("stylex")))(o.crossButton),children:l.jsx(b("CometTooltip.react"),{position:"above",tooltip:h._("Supprimer le tag de produit"),children:l.jsx(b("TetraIcon.react"),{"aria-label":"Close",color:"secondary",icon:b("fbicon")._(g("478232"),16),onPress:a.onPress})})}):null]})})]})}e.exports=a}),null);
__d("ProductTagPhotoEditorRemoveProductTagFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_editor_remove_product_tag");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("CometPhotoEditorTaggedProductsArea.react",["fbt","Actor","CometPhotoEditorTaggedProductsToken.react","CometPlaceholder.react","CometScrollableArea.react","PagesCometProductTagTokenGlimmer.react","PhotoEditorViewStateContext","React","TetraText.react","TetraTextPairing.react","cometPhotoEditorTagSaver","stylex","updateTagReducer","usePhotoEditorReducer","usePhotoEditorSaver","usePhotoEditorViewStateDispatcher","ProductTagPhotoEditorRemoveProductTagFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("Actor").useActor,j=b("React");c=b("React");var k=c.useCallback,l=c.useContext,m={container:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",paddingBottom:"sj5x9vvc"},header:{paddingBottom:"sj5x9vvc",paddingStart:"up7ckamt",paddingTop:"discj3wi"},nullStateHeader:{paddingStart:"gm7ombtx",paddingTop:"discj3wi"},scroll:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",maxHeight:"lj85lhky",minHeight:"kmna8ivb"},tokens:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",color:"oo9gr5id",fontWeight:"knj5qynh",paddingBottom:"sj5x9vvc",paddingEnd:"ph5uu5jm",paddingTop:"discj3wi"}};function a(a){var c,d,e=a.photoID;a=a.showNullHeader;c=(c=l(b("PhotoEditorViewStateContext")))==null?void 0:c.tags;var f=((d=l(b("PhotoEditorViewStateContext")))==null?void 0:d.activeTool)==="PRODUCT_TAG";d=i();var n=d[0];b("usePhotoEditorReducer")(b("updateTagReducer"));var o=b("usePhotoEditorViewStateDispatcher")();b("usePhotoEditorSaver")(b("cometPhotoEditorTagSaver"),{tags:c,type:"SET_TAGS"});var p=k(function(a){return o({tagToDelete:a,type:"REMOVE_TAG"})},[o]);d=(c==null?void 0:c.length)||0;var q=[].concat(c||[]).reverse();a=a===!0?j.jsx("div",{className:(h||(h=b("stylex")))(m.nullStateHeader),children:j.jsx(b("TetraTextPairing.react"),{headline:j.jsx(b("TetraText.react"),{type:"headlineEmphasized2",children:g._("Produits identifi\u00e9s")}),level:1,meta:g._("Click on a product in the photo to tag it. This allows people to shop directly on your post.")})}):null;return c==null||c.length===0?a:j.jsxs("div",{className:(h||(h=b("stylex")))(m.container),children:[j.jsx("div",{className:(h||(h=b("stylex")))(m.header),children:j.jsx(b("TetraText.react"),{type:"headlineEmphasized2",children:g._({"*":"Produits identifi\u00e9s ({number of items})"},[g._plural(d),g._param("number of items",d)])})}),j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx(b("PagesCometProductTagTokenGlimmer.react"),{}),children:j.jsx(b("CometScrollableArea.react"),{horizontal:!1,xstyle:m.scroll,children:j.jsx("div",{className:(h||(h=b("stylex")))(m.tokens),children:q.map(function(a,c){var d,g=a==null?void 0:(d=a.taggee)==null?void 0:d.id;return g!=null?j.jsx("div",{onMouseEnter:function(){o({productID:g,type:"HOVER_PRODUCT_TAG_ENTER"})},onMouseLeave:function(){o({productID:g,type:"HOVER_PRODUCT_TAG_LEAVE"})},children:j.jsx(b("CometPhotoEditorTaggedProductsToken.react"),{allowDeleteTag:f,onPress:function(){p(g),b("ProductTagPhotoEditorRemoveProductTagFalcoEvent").log(function(){var a;return{creator_id:n,media_id:(a=e)!=null?a:"",media_type:"photo",platform:"comet",product_id:g,referral_source:"composer"}})},productId:g,productImage:(a==null?void 0:(d=a.taggee)==null?void 0:d.image_uri)||"",productName:(a==null?void 0:(d=a.taggee)==null?void 0:d.name)||"",productPrice:(a==null?void 0:(d=a.taggee)==null?void 0:d.product_price)||""})},c):null})})})})]})}e.exports=a}),null);
__d("CometPhotoEditorTextOverlayConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={color:"White",font:"Helvetica",size:36};b=[{buttonColor:"#000",label:g._("Noir"),value:"Black"},{buttonColor:"#fff",label:g._("Blanc"),value:"White"},{buttonColor:"#f00",label:g._("Rouge"),value:"Red"},{buttonColor:"#00f",label:g._("Bleu"),value:"Blue"}];c=[{label:g._("Helvetica"),value:"Helvetica"},{label:g._("Impact"),value:"Impact"},{label:g._("Times New Roman"),value:"Times New Roman"},{label:g._("Comic Sans MS"),value:"Comic Sans MS"},{label:g._("Courier"),value:"Courier"}];d=[{label:g._("Petit"),value:24},{label:g._("Moyen"),value:36},{label:g._("Grand"),value:48}];e.exports={COLOR_OPTIONS:b,FONT_OPTIONS:c,SIZE_OPTIONS:d,TEXT_OVERLAY_DEFAULT_VALUES:a}}),null);
__d("updateTextOverlayReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"UPDATE_TEXT":return babelHelpers["extends"]({},a,{textOverlay:babelHelpers["extends"]({},a.textOverlay,{text:b.newText})});case"UPDATE_COLOR":return babelHelpers["extends"]({},a,{textOverlay:babelHelpers["extends"]({},a.textOverlay,{color:b.newColor})});case"UPDATE_FONT":return babelHelpers["extends"]({},a,{textOverlay:babelHelpers["extends"]({},a.textOverlay,{font:b.newFont})});case"UPDATE_SIZE":return babelHelpers["extends"]({},a,{textOverlay:babelHelpers["extends"]({},a.textOverlay,{size:b.newSize})});case"UPDATE_FOCUS":return babelHelpers["extends"]({},a,{textOverlay:babelHelpers["extends"]({},a.textOverlay,{hasTextFocus:b.shouldFocus})})}return a}e.exports=a}),null);
__d("CometPhotoEditorTextOverlayColorSwatchButton.react",["CometPhotoEditorTextOverlayConstants","CometPressable.react","PhotoEditorViewStateContext","React","stylex","updateTextOverlayReducer","usePhotoEditorReducer","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometPhotoEditorTextOverlayConstants").TEXT_OVERLAY_DEFAULT_VALUES,i=b("React");c=b("React");var j=c.useCallback,k=c.useContext;function a(a){var c=a.color;b("usePhotoEditorReducer")(b("updateTextOverlayReducer"));var d=b("usePhotoEditorViewStateDispatcher")(),e=j(function(a){return d({newColor:a,type:"UPDATE_COLOR"})},[d]);a=((a=k(b("PhotoEditorViewStateContext")))==null?void 0:(a=a.textOverlay)==null?void 0:a.color)||h.color;a=a===c.value;return i.jsx("div",{className:"o3lre8g0 q9uorilb",children:i.jsx(b("CometPressable.react"),{"aria-label":c.label,onPress:function(){e(c.value)},overlayDisabled:!0,children:i.jsx("span",{className:(g||(g=b("stylex"))).dedupe({"border-top-color-0.4":"jgf7e1nu","border-end-color-0.4":"r7dfy6xl","border-bottom-color-0.4":"d06cv69u","border-start-color-0.4":"cdcbzqsl","border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","border-top-style-0.4":"goun2846","border-end-style-0.4":"ccm00jje","border-bottom-style-0.4":"s44p3ltw","border-start-style-0.4":"mk2mc5f4","border-top-width-0.4":"d0xz27nh","border-end-width-0.4":"m269brjn","border-bottom-width-0.4":"b2mspmbn","border-start-width-0.4":"rt0cn7cn","display-1":"a8c37x1j","height-1":"rgmg9uty","width-1":"b73ngqbp"},!a&&c.buttonColor==="#fff"?{"border-top-color-0.4":"qbxu24ho","border-end-color-0.4":"bxzzcbxg","border-bottom-color-0.4":"lxuwth05","border-start-color-0.4":"h2mp5456","border-top-width-0.4":"frvqaej8","border-end-width-0.4":"ed0hlay0","border-bottom-width-0.4":"afxsp9o4","border-start-width-0.4":"jcgfde61","height-1":"mudddibn","width-1":"ciadx1gn"}:null,a?{"border-top-color-0.4":"ng4oes9w","border-end-color-0.4":"epui8hbc","border-bottom-color-0.4":"nxp5a7ae","border-start-color-0.4":"og13rbbo"}:null),style:{backgroundColor:c.buttonColor}})})})}e.exports=a}),null);
__d("CometPhotoEditorTextOverlayColorSwatchMenu.react",["CometPhotoEditorTextOverlayColorSwatchButton.react","CometPhotoEditorTextOverlayConstants","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("CometPhotoEditorTextOverlayConstants").COLOR_OPTIONS,h=b("React");function a(){return h.jsx("div",{className:"dati1w0a sj5x9vvc hv4rvrfc k3eq2f2k",children:g.map(function(a){return h.jsx(b("CometPhotoEditorTextOverlayColorSwatchButton.react"),{color:a},a.value)})})}e.exports=a}),null);
__d("CometPhotoEditorTextOverlayColorSelector.react",["fbt","CometFormInputWrapper.react","CometPhotoEditorTextOverlayColorSwatchMenu.react","CometPhotoEditorTextOverlayConstants","PhotoEditorViewStateContext","React","stylex","updateTextOverlayReducer","usePhotoEditorReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CometPhotoEditorTextOverlayConstants").TEXT_OVERLAY_DEFAULT_VALUES,i=b("React");c=b("React");var j=c.useContext;function a(){var a;b("usePhotoEditorReducer")(b("updateTextOverlayReducer"));a=((a=j(b("PhotoEditorViewStateContext")))==null?void 0:(a=a.textOverlay)==null?void 0:a.color)||h.color;return i.jsx("div",{className:"bi6gxh9e",children:i.jsx(b("CometFormInputWrapper.react"),{cursor:"pointer",label:g._("S\u00e9lectionner la couleur du texte"),shrinkLabelOnFocus:!1,value:a,children:function(){return i.jsx(b("CometPhotoEditorTextOverlayColorSwatchMenu.react"),{})}})})}e.exports=a}),null);
__d("CometPhotoEditorTextOverlayFontSelector.react",["fbt","CometFormSelect.react","CometPhotoEditorTextOverlayConstants","PhotoEditorViewStateContext","React","stylex","updateTextOverlayReducer","usePhotoEditorReducer","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CometPhotoEditorTextOverlayConstants").FONT_OPTIONS,i=b("CometPhotoEditorTextOverlayConstants").TEXT_OVERLAY_DEFAULT_VALUES,j=b("React");c=b("React");var k=c.useCallback,l=c.useContext;function a(){var a;b("usePhotoEditorReducer")(b("updateTextOverlayReducer"));var c=b("usePhotoEditorViewStateDispatcher")();a=((a=l(b("PhotoEditorViewStateContext")))==null?void 0:(a=a.textOverlay)==null?void 0:a.font)||i.font;var d=k(function(a){return c({newFont:a,type:"UPDATE_FONT"})},[c]);return j.jsx("div",{className:"bi6gxh9e",children:j.jsx(b("CometFormSelect.react"),{label:g._("S\u00e9lectionner la police"),onValueChange:d,options:h,value:a})})}e.exports=a}),null);
__d("CometPhotoEditorTextOverlayInputForm.react",["fbt","CometFormTextArea.react","PhotoEditorViewStateContext","React","stylex","updateTextOverlayReducer","usePhotoEditorReducer","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useCallback,j=c.useContext,k=c.useEffect,l=c.useRef;function a(){var a;b("usePhotoEditorReducer")(b("updateTextOverlayReducer"));var c=b("usePhotoEditorViewStateDispatcher")(),d=l(null);k(function(){d.current!=null&&d.current.focus()},[]);a=((a=j(b("PhotoEditorViewStateContext")).textOverlay)==null?void 0:a.hasTextFocus)||!1;d.current!=null&&a&&d.current.focus();a=((a=j(b("PhotoEditorViewStateContext")).textOverlay)==null?void 0:a.text)||"";var e=i(function(a){return c({newText:a,type:"UPDATE_TEXT"})},[c]);return h.jsx("div",{className:"bi6gxh9e",children:h.jsx(b("CometFormTextArea.react"),{label:g._("Champ de saisie du texte"),minRows:1,onValueChange:e,ref:d,value:a})})}e.exports=a}),null);
__d("CometPhotoEditorTextOverlaySizeSelector.react",["fbt","CometFormSelect.react","CometPhotoEditorTextOverlayConstants","PhotoEditorViewStateContext","React","stylex","updateTextOverlayReducer","usePhotoEditorReducer","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CometPhotoEditorTextOverlayConstants").SIZE_OPTIONS,i=b("CometPhotoEditorTextOverlayConstants").TEXT_OVERLAY_DEFAULT_VALUES,j=b("React");c=b("React");var k=c.useCallback,l=c.useContext;function a(){var a;b("usePhotoEditorReducer")(b("updateTextOverlayReducer"));var c=b("usePhotoEditorViewStateDispatcher")();a=((a=l(b("PhotoEditorViewStateContext")))==null?void 0:(a=a.textOverlay)==null?void 0:a.size)||i.size;var d=k(function(a){return c({newSize:a,type:"UPDATE_SIZE"})},[c]);return j.jsx("div",{className:"bi6gxh9e",children:j.jsx(b("CometFormSelect.react"),{label:g._("S\u00e9lectionner la taille du texte"),onValueChange:d,options:h,value:a})})}e.exports=a}),null);
__d("CometPhotoEditorTextOverlayTools.react",["CometPhotoEditorTextOverlayColorSelector.react","CometPhotoEditorTextOverlayFontSelector.react","CometPhotoEditorTextOverlayInputForm.react","CometPhotoEditorTextOverlaySizeSelector.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsxs("div",{className:"dati1w0a ihqw7lf3 hv4rvrfc discj3wi",children:[g.jsx(b("CometPhotoEditorTextOverlayInputForm.react"),{}),g.jsx(b("CometPhotoEditorTextOverlayColorSelector.react"),{}),g.jsx(b("CometPhotoEditorTextOverlayFontSelector.react"),{}),g.jsx(b("CometPhotoEditorTextOverlaySizeSelector.react"),{})]})}e.exports=a}),null);
__d("CometPhotoEditorButton.react",["CometPressable.react","CometTemporaryPlaceholder.react","CometTintedIcon.react","React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback;function a(a){var c=a.enabled;c=c===void 0?!1:c;var d=a.icon,e=a.isActive,f=a.isToggleable;f=f===void 0?!0:f;var i=a.label,j=a.onClick,k=a.setActiveTool,l=a.toolName,m=e&&f;a=g.jsx(b("CometTintedIcon.react"),{color:m?"fds-blue-60":"fds-black",icon:d});e=h(function(){j&&j(),m?k(null):k(l)},[m,k,l,j]);f=g.jsx(b("CometPressable.react"),{"aria-label":i,display:"inline",label:i,onPress:e,overlayDisabled:!0,children:g.jsxs("div",{className:"oqcyycmt ofv0k9yr aodizinl cbu4d94t j83agx80 bp9cbjyn",children:[g.jsx("div",{className:"tmrshh9y taijpn5t m7zwrmfr j83agx80 spb7xbtv bkmhp75w emlxlaya s45kfl79 tdjehn4e bp9cbjyn",children:a}),g.jsx("div",{className:"cxgpxx05",children:g.jsx(b("TetraText.react"),{color:m?"highlight":"primary",type:"bodyLink4",children:i})})]})});return!c?g.jsx(b("CometTemporaryPlaceholder.react"),{children:f}):f}e.exports=a}),null);
__d("CometPhotoEditorButtonVertical.react",["React","TetraAccessoryListCell.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.enabled;c=c===void 0?!1:c;var d=a.icon,e=a.isActive,f=e===void 0?!1:e;e=a.label;var h=a.onClick;h=h===void 0?null:h;var i=a.setActiveTool,j=a.toolName;a=function(){f?i(null):i(j)};return g.jsx(b("TetraAccessoryListCell.react"),{addOnPrimary:{color:f?"blue":"gray",icon:d,size:48,type:"contained-icon"},disabled:!c,headline:e,onPress:h!==null?h:a,paddingHorizontal:0,selected:f})}e.exports=a}),null);
__d("CometPhotoEditorProductTagToolbar.react",["fbt","CometPhotoEditorDisableMask.react","CometPhotoEditorPushPageActionItems.react","CometPhotoEditorTaggedProductsArea.react","PhotoEditorViewStateContext","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useContext;function a(a){var c=a.isNotPhoto,d=a.onBack,e=a.photoID,f=a.save;a=a.setActiveTool;var j=i(b("PhotoEditorViewStateContext"));j=(j=j==null?void 0:j.isSaving)!=null?j:!1;return h.jsxs("div",{className:"datstx6m g5gj957u buofh1pr cbu4d94t j83agx80",children:[h.jsx(b("CometPhotoEditorTaggedProductsArea.react"),{photoID:e,showNullHeader:!0}),h.jsxs("div",{className:"stjgntxs ni8dbmo4 km676qkl pfnyh3mw kb5gq1qc",children:[h.jsx(b("CometPhotoEditorPushPageActionItems.react"),{onBack:d,photoID:e,save:f,setActiveTool:a}),j||c?h.jsx(b("CometPhotoEditorDisableMask.react"),{hint:c?g._("Impossible de modifier les vid\u00e9os."):null,showOverlay:!0}):null]})]})}e.exports=a}),null);
__d("CometPhotoEditorProductTagButton.react",["ix","fbt","CometPhotoEditorButtonVertical.react","CometPhotoEditorProductTagToolbar.react","React","fbicon","useEffectOnce"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.activeTool,d=c===void 0?null:c,e=a.pushPage,f=a.setActiveTool,j=function(){f("PRODUCT_TAG"),e!=null&&e(function(c){c=c.onReturn;return i.jsx(b("CometPhotoEditorProductTagToolbar.react"),{isNotPhoto:a.isNotPhoto,onBack:c,photoID:a.photoID,save:a.save,setActiveTool:f})})};b("useEffectOnce")(function(){d==="PRODUCT_TAG"&&j()});return i.jsx(b("CometPhotoEditorButtonVertical.react"),{enabled:!0,icon:b("fbicon")._(g("697802"),24),isActive:d==="PRODUCT_TAG",label:h._("Identifier des produits"),onClick:function(){j()},setActiveTool:f,toolName:"PRODUCT_TAG"})}e.exports=a}),null);
__d("getNewAngle",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a-90;a=(a%360+360)%360;return a===0||a===90||a===180||a===270?a:0}e.exports=a}),null);
__d("updateAngleReducer",["getNewAngle"],(function(a,b,c,d,e,f){"use strict";function a(a,c){switch(c.type){case"ROTATE":return babelHelpers["extends"]({},a,{angle:b("getNewAngle")((c=a.angle)!=null?c:0)});case"CLEAR":return babelHelpers["extends"]({},a,{angle:0})}return a}e.exports=a}),null);
__d("CometPhotoEditorRotateButton.react",["ix","fbt","CometPhotoEditorButton.react","React","fbicon","qex","updateAngleReducer","usePhotoEditorReducer","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("qex")._("1182332");function a(a){var c=a.activeTool;a=a.setActiveTool;b("usePhotoEditorReducer")(b("updateAngleReducer"));var d=b("usePhotoEditorViewStateDispatcher")(),e=function(){return d({type:"ROTATE"})};return i.jsx(b("CometPhotoEditorButton.react"),{enabled:j===!0,icon:b("fbicon")._(g("1156852"),24),isActive:c==="ROTATE",isToggleable:!1,label:h._("Pivoter"),onClick:e,setActiveTool:a,toolName:"ROTATE"})}e.exports=a}),null);
__d("updateToolReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"SET_ACTIVE_TOOL":return babelHelpers["extends"]({},a,{activeTool:b.tool,angle:0,isSaving:!1,tags:b.tags})}return a}e.exports=a}),null);
__d("CometPhotoEditorRotateButtonVertical.react",["ix","fbt","CometPhotoEditorButtonVertical.react","React","fbicon","qex","updateAngleReducer","updateToolReducer","usePhotoEditorReducer","usePhotoEditorViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("qex")._("1182332");function a(a){var c=a.activeTool;c=c===void 0?null:c;var d=a.setActiveTool;b("usePhotoEditorReducer")(b("updateAngleReducer"));b("usePhotoEditorReducer")(b("updateToolReducer"));var e=b("usePhotoEditorViewStateDispatcher")(),f=function(){return e({type:"ROTATE"})};return i.jsx(b("CometPhotoEditorButtonVertical.react"),{enabled:j===!0,icon:b("fbicon")._(g("1156852"),24),isActive:c==="ROTATE",label:h._("Pivoter"),onClick:function(){d("ROTATE"),f()},setActiveTool:d,toolName:"ROTATE"})}e.exports=a}),null);
__d("CometPhotoEditorTransformerTools.react",["ix","fbt","CometFlexibleGrid.react","CometPhotoEditorButton.react","CometPhotoEditorButtonVertical.react","CometPhotoEditorProductTagButton.react","CometPhotoEditorRotateButton.react","CometPhotoEditorRotateButtonVertical.react","PhotoEditorViewStateContext","React","fbicon","gkx","qex","stylex","updateAngleReducer","updateToolReducer","usePhotoEditorReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useContext,k=b("qex")._("1156862"),l=b("gkx")("1218176"),m=b("qex")._("1225348"),n=b("qex")._("1237648")===!0;function a(a){var c=a.isNotPhoto,d=a.isPageShop,e=a.photoID,f=a.pushPage,o=a.save;a=a.setActiveTool;var p=j(b("PhotoEditorViewStateContext")).activeTool;b("usePhotoEditorReducer")(b("updateAngleReducer"));b("usePhotoEditorReducer")(b("updateToolReducer"));return i.jsx("div",{className:"discj3wi dati1w0a hv4rvrfc",children:l?i.jsxs("div",{children:[i.jsx(b("CometPhotoEditorButtonVertical.react"),{enabled:m===!0,icon:b("fbicon")._(g("798399"),24),isActive:p==="CROP",label:h._("Recadrer"),setActiveTool:a,toolName:"CROP"}),i.jsx(b("CometPhotoEditorRotateButtonVertical.react"),{activeTool:p,setActiveTool:a}),d?b("gkx")("1518248")?i.jsx(b("CometPhotoEditorProductTagButton.react"),{activeTool:p,isNotPhoto:c,photoID:e,pushPage:f,save:o,setActiveTool:a}):i.jsx(b("CometPhotoEditorButtonVertical.react"),{enabled:!0,icon:b("fbicon")._(g("697802"),24),isActive:p==="PRODUCT_TAG",label:h._("Identifier des produits"),setActiveTool:a,toolName:"PRODUCT_TAG"}):i.jsx(b("CometPhotoEditorButtonVertical.react"),{enabled:k===!0,icon:b("fbicon")._(g("502475"),24),isActive:p==="XY_TAG",label:h._("Identifier la photo"),setActiveTool:a,toolName:"XY_TAG"}),n?i.jsx(b("CometPhotoEditorButtonVertical.react"),{enabled:!0,icon:b("fbicon")._(g("557377"),24),isActive:p==="TEXT_OVERLAY",label:h._("Outil texte"),setActiveTool:a,toolName:"TEXT_OVERLAY"}):null]}):i.jsxs(b("CometFlexibleGrid.react"),{columnMaxWidth:200,columnMinWidth:60,justify:"center",children:[i.jsx(b("CometPhotoEditorButton.react"),{enabled:m===!0,icon:b("fbicon")._(g("798399"),24),isActive:p==="CROP",label:h._("Recadrer"),setActiveTool:a,toolName:"CROP"}),i.jsx(b("CometPhotoEditorRotateButton.react"),{activeTool:p,setActiveTool:a}),d&&l?i.jsx(b("CometPhotoEditorButton.react"),{enabled:!0,icon:b("fbicon")._(g("697802"),24),isActive:p==="PRODUCT_TAG",label:h._("Identifier des produits"),setActiveTool:a,toolName:"PRODUCT_TAG"}):i.jsx(b("CometPhotoEditorButton.react"),{enabled:k===!0,icon:b("fbicon")._(g("502475"),24),isActive:p==="XY_TAG",label:h._("Identifier la photo"),setActiveTool:a,toolName:"XY_TAG"}),n?i.jsx(b("CometPhotoEditorButton.react"),{enabled:!0,icon:b("fbicon")._(g("557377"),24),isActive:p==="TEXT_OVERLAY",label:h._("Outil texte"),setActiveTool:a,toolName:"TEXT_OVERLAY"}):null]})})}e.exports=a}),null);
__d("CometPhotoEditorToolbar.react",["fbt","Actor","CometPhotoEditorAccessibleDescriptionTool","CometPhotoEditorDescriptionTool.react","CometPhotoEditorDisableMask.react","CometPhotoEditorPushPageActionItems.react","CometPhotoEditorTaggedFriendsArea.react","CometPhotoEditorTaggedProductsArea.react","CometPhotoEditorTextOverlayTools.react","CometPhotoEditorTransformerTools.react","CometRelay","PhotoEditorViewStateContext","React","gkx","stylex","CometPhotoEditorToolbarQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("Actor").useActor;b("CometRelay").graphql;var j=b("CometRelay").useLazyLoadQuery,k=b("React");c=b("React");var l=c.useContext;function a(a){var c,d=a.isNotPhoto,e=a.onBack,f=a.photoID,m=a.pushPage,n=a.save;a=a.setActiveTool;var o=l(b("PhotoEditorViewStateContext"));c=(c=o==null?void 0:o.isSaving)!=null?c:!1;o=o==null?void 0:o.activeTool;var p=i();p=j(h!==void 0?h:h=b("CometPhotoEditorToolbarQuery.graphql"),{id:p[0]});p=(p==null?void 0:(p=p.page)==null?void 0:p.has_taggable_products)===!0;return k.jsxs("div",{className:"datstx6m g5gj957u buofh1pr cbu4d94t j83agx80",children:[k.jsx(b("CometPhotoEditorDescriptionTool.react"),{}),k.jsx(b("CometPhotoEditorAccessibleDescriptionTool"),{}),k.jsx(b("CometPhotoEditorTransformerTools.react"),{isNotPhoto:d,isPageShop:p,photoID:f,pushPage:m,save:n,setActiveTool:a}),p&&b("gkx")("1069716")?k.jsx(b("CometPhotoEditorTaggedProductsArea.react"),{photoID:f}):k.jsx(b("CometPhotoEditorTaggedFriendsArea.react"),{}),o==="TEXT_OVERLAY"&&k.jsx(b("CometPhotoEditorTextOverlayTools.react"),{setActiveTool:a}),k.jsxs("div",{className:"stjgntxs ni8dbmo4 km676qkl pfnyh3mw kb5gq1qc",children:[k.jsx(b("CometPhotoEditorPushPageActionItems.react"),{onBack:e,photoID:f,save:n,setActiveTool:a}),c||d?k.jsx(b("CometPhotoEditorDisableMask.react"),{hint:d?g._("Impossible de modifier les vid\u00e9os."):null,showOverlay:!0}):null]})]})}e.exports=a}),null);
__d("ProductTagPhotoEditorTabClickFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","product_tag_photo_editor_tab_click");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("reducePhotoEditorViewState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b;a=a.current.keys();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b=f(b,c)}return b}e.exports=a}),null);
__d("useSaveAllPhotoData",["Promise","React","composerMediaAttachmentReducer","recoverableViolation","updateSaveStatusReducer","useComposerViewStateDispatcher","useComposerViewStateReducer","usePhotoEditorReducer"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useCallback;function a(a,c,d,e){b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));b("usePhotoEditorReducer")(b("updateSaveStatusReducer"));var f=b("useComposerViewStateDispatcher")();return g(function(g){e({isSaving:!0,type:"SET_SAVE_STATE"});if(a<0||c==null||a>=c.length)return;var h=c[a];if(h==null||h.fileType!=="PHOTO"||h.state!=="UPLOADED")return;var i=Array.from(d.keys());i.sort(function(a,b){return b.priority-a.priority});h=babelHelpers["extends"]({},h);var j=[];for(var k=0;k<i.length;k++){var l=i[k];l=l.saver.action(h);var m=l.asyncMutation;l=l.newMediaItem;m!=null&&j.push(m);h=l}m=function(c){f({index:a,photo:c,type:"SAVE_PHOTO_EDITS"});e({type:"CLEAR"});g&&g();return b("Promise").resolve()};j.push(m);var n=b("Promise").resolve(h);j.forEach(function(a){n=n.then(function(c){if(c==null){b("recoverableViolation")("photo mutations should always return a valid photo object","comet_composer");return}return a(c)})})},[a,c,d,f,e])}e.exports=a}),null);
__d("CometPhotoEditor.react",["fbt","CometComposerHeader.react","CometMediaViewerLayoutSkeleton.react","CometMultiStepContainer.react","CometPhotoEditorEditedPhotoViewer.react","CometPhotoEditorSaverContext","CometPhotoEditorToolbar.react","CometPhotoEditorViewer.react","CometPlaceholder.react","PagesCometComposerContext","PhotoEditorViewStateContext","PhotoEditorViewStateDispatcherContext","PhotoEditorViewStateReducerContext","React","getCometPhotoEditorXYTags","gkx","reducePhotoEditorViewState","stylex","unrecoverableViolation","useCometConfirmationDialog","useOnBeforeUnload","useSaveAllPhotoData","withComposerViewStatePart","ProductTagPhotoEditorTabClickFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("React");var j=c.useContext,k=c.useEffect,l=c.useReducer,m=c.useRef,n=c.useState,o={dialog:{height:"n57nqv57",width:"slwcbde0"},fullscreen:{height:"nznu9b0o",width:"ina5je9e"},photoEditorDialogContainer:{minHeight:"qywhw6cw"},photoEditorFullscreenContainer:{minHeight:"jgljxmt5"}};function a(a){var c,d=a.initialTool,e=a.isDialog;e=e===void 0?!1:e;var f=a.mediaAttachments,q=a.onBack,r=babelHelpers.objectWithoutPropertiesLoose(a,["initialTool","isDialog","mediaAttachments","onBack"]),s=j(b("PagesCometComposerContext")),t=m(new Map());d={activeTool:d,index:(a=r.index)!=null?a:0,tags:b("getCometPhotoEditorXYTags")(f,r.index)};a=l(function(a,c){a=b("reducePhotoEditorViewState")(t,a,c);return a},d);var u=a[0],v=a[1],w=function(a){var c=function(){v({tags:b("getCometPhotoEditorXYTags")(f,r.index),tool:a,type:"SET_ACTIVE_TOOL"})};if(u.activeTool==null){v({tags:b("getCometPhotoEditorXYTags")(f,r.index),tool:a,type:"SET_ACTIVE_TOOL"});return}a!==u.activeTool&&D(c,g._("Veuillez enregistrer vos modifications avant d\u2019apporter d\u2019autres modifications."));a==="PRODUCT_TAG"&&a!==u.activeTool&&b("ProductTagPhotoEditorTabClickFalcoEvent").log(function(){return{creator_id:s==null?void 0:s.pageID,media_id:A.data.id,media_type:"photo",platform:"comet",referral_source:"composer"}})};d=n();a=d[0];d=d[1];var x=m(new Map());b("useOnBeforeUnload")(function(){if(p(x,u.index,f))return{warnMessage:g._("Vous n\u2019avez pas enregistr\u00e9 vos modifications")}});var y=b("useSaveAllPhotoData")(u.index,f,x.current,v),z=function(a){p(x,u.index,f)&&y(a)};if(f==null)throw b("unrecoverableViolation")("Must provide a valid photo","comet_composer");var A=((c=f==null?void 0:f.length)!=null?c:0<=u.index)?f[u.index]:f[0],B;A.state!=="PREEXISTING"&&(B=A.file.uploadID);c=m(null);c.current!==B&&(c.current=B,d(A.fileObjectURL));c=b("useCometConfirmationDialog")();var C=c[0],D=function(a,b){if(p(x,u.index,f)){C({body:(b=b)!=null?b:g._("Si vous abandonnez maintenant, vous perdrez toutes les modifications que vous avez apport\u00e9es."),cancel:g._("Abandonner"),confirm:g._("Poursuivre les modifications"),title:g._("Modifications non enregistr\u00e9es")},function(){return void 0},a)}else a()},E=function(){D(q)};d=m(null);c=u.index<f.length-1?f[u.index+1]:null;var F=u.index-1>=0?f[u.index-1]:null;a=a!=null?i.jsx(b("CometPhotoEditorViewer.react"),{containerRef:d,currentPhoto:A,hasNext:u.index<f.length-1,mediaAttachment:A,nextMediaAttachment:c,onNavigateAway:D,origSrc:a,prevMediaAttachment:F}):null;k(function(){v({height:A.height,type:"SET_ORIGINAL_IMAGE_DIMENSIONS",width:A.width})},[A.height,A.width]);var G=u.activeTool==="PRODUCT_TAG"?i.jsx(b("CometComposerHeader.react"),{onBack:E,title:g._("Identifier les produits"),withBackButton:b("gkx")("1518248")!==!0}):i.jsx(b("CometComposerHeader.react"),{onBack:E,title:g._("D\u00e9tails de la photo"),withBackButton:!0});return i.jsxs("div",{className:(h||(h=b("stylex")))([e&&o.dialog,!e&&o.fullscreen]),ref:d,children:[G,i.jsx("div",{className:h([e&&o.photoEditorDialogContainer,!e&&o.photoEditorFullscreenContainer]),children:i.jsx(b("CometPhotoEditorSaverContext").Provider,{value:x,children:i.jsx(b("PhotoEditorViewStateReducerContext").Provider,{value:t,children:i.jsx(b("PhotoEditorViewStateContext").Provider,{value:u,children:i.jsx(b("PhotoEditorViewStateDispatcherContext").Provider,{value:v,children:i.jsx(b("CometMediaViewerLayoutSkeleton.react"),{leftRail:b("gkx")("1518248")?i.jsx(b("CometMultiStepContainer.react"),{children:function(a){return i.jsx(b("CometPhotoEditorToolbar.react"),{isNotPhoto:A.fileType==="VIDEO",onBack:E,photoID:A.data.id,pushPage:a,save:z,setActiveTool:w})}}):i.jsx(b("CometPhotoEditorToolbar.react"),{isNotPhoto:A.fileType==="VIDEO",onBack:E,photoID:A.data.id,save:z,setActiveTool:w}),children:A.useCDNPreview&&A.fileType!=="VIDEO"?i.jsx(b("CometPlaceholder.react"),{fallback:a,children:i.jsx(b("CometPhotoEditorEditedPhotoViewer.react"),{containerRef:d,hasNext:u.index<f.length-1,id:A.data.id,mediaAttachment:A,nextMediaAttachment:c,onNavigateAway:D,prevMediaAttachment:F})}):a})})})})})})]},u.index)}function p(a,b,c){b=q(b,c);if(!b)return!1;for(var c=a.current.keys(),a=Array.isArray(c),d=0,c=a?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(d>=c.length)break;e=c[d++]}else{d=c.next();if(d.done)break;e=d.value}e=e;e=e.saver.checker;if(e(b))return!0}return!1}function q(a,b){if(a<0||b==null||a>=b.length)return!1;b=b[a];return b==null||b.fileType!=="PHOTO"||b.state!=="UPLOADED"?!1:b}e.exports=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments}})}),null);
__d("CometPhotoEditorPage.react",["CometPhotoEditor.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useState;function a(a){var c=a.index,d=a.initialTool,e=a.isDialog,f=a.onBack;a=h(!0);var i=a[0],j=a[1];a=function(){j(!1),f()};return i?g.jsx(b("CometPhotoEditor.react"),{index:c,initialTool:d,isDialog:e,onBack:a}):null}e.exports=a}),null);